<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <!-- Payment Configuration Settings -->
        <record id="res_config_settings_view_form_payment" model="ir.ui.view">
            <field name="name">res.config.settings.view.form.payment</field>
            <field name="model">res.config.settings</field>
            <field name="priority" eval="60"/>
            <field name="inherit_id" ref="account.res_config_settings_view_form"/>
            <field name="arch" type="xml">
                <xpath expr="//div[hasclass('settings')]" position="inside">

                    <!-- Payment Verification Section -->
                    <div class="app_settings_block" data-string="Payment Verification" data-key="account_payment_final">
                        <h2>Payment Verification &amp; Workflow</h2>

                        <div class="row mt16 o_settings_container">
                            <div class="col-12 col-lg-6 o_setting_box">
                                <div class="o_setting_left_pane">
                                    <field name="enable_payment_verification"/>
                                </div>
                                <div class="o_setting_right_pane">
                                    <label for="enable_payment_verification"/>
                                    <div class="text-muted">
                                        Enable QR code verification for payment vouchers
                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-lg-6 o_setting_box">
                                <div class="o_setting_left_pane">
                                    <field name="enable_four_stage_approval"/>
                                </div>
                                <div class="o_setting_right_pane">
                                    <label for="enable_four_stage_approval"/>
                                    <div class="text-muted">
                                        Enable 4-stage approval workflow for vendor payments
                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-lg-6 o_setting_box">
                                <div class="o_setting_left_pane">
                                    <field name="auto_post_approved_payments"/>
                                </div>
                                <div class="o_setting_right_pane">
                                    <label for="auto_post_approved_payments"/>
                                    <div class="text-muted">
                                        Automatically post payments when fully approved
                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-lg-6 o_setting_box">
                                <div class="o_setting_left_pane">
                                    <field name="send_approval_notifications"/>
                                </div>
                                <div class="o_setting_right_pane">
                                    <label for="send_approval_notifications"/>
                                    <div class="text-muted">
                                        Send email notifications for approval requests
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Approval Thresholds -->
                        <h3>Approval Thresholds</h3>
                        <div class="row mt16 o_settings_container">
                            <div class="col-12 col-lg-6 o_setting_box">
                                <div class="o_setting_right_pane">
                                    <label for="max_approval_amount" string="Maximum Approval Amount"/>
                                    <field name="max_approval_amount" class="o_light_label"/>
                                    <div class="text-muted">
                                        Maximum amount that regular users can approve
                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-lg-6 o_setting_box">
                                <div class="o_setting_right_pane">
                                    <label for="authorization_threshold" string="Authorization Threshold"/>
                                    <field name="authorization_threshold" class="o_light_label"/>
                                    <div class="text-muted">
                                        Amount below which authorization stage is skipped
                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-lg-6 o_setting_box">
                                <div class="o_setting_left_pane">
                                    <field name="require_remarks_for_large_payments"/>
                                </div>
                                <div class="o_setting_right_pane">
                                    <label for="require_remarks_for_large_payments"/>
                                    <div class="text-muted">
                                        Require remarks for payments above the maximum approval amount
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- QR Code Settings -->
                        <h3>QR Code Settings</h3>
                        <div class="row mt16 o_settings_container" attrs="{'invisible': [('enable_payment_verification', '=', False)]}">
                            <div class="col-12 col-lg-6 o_setting_box">
                                <div class="o_setting_left_pane">
                                    <field name="enable_qr_codes"/>
                                </div>
                                <div class="o_setting_right_pane">
                                    <label for="enable_qr_codes"/>
                                    <div class="text-muted">
                                        Generate QR codes for payment vouchers
                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-lg-6 o_setting_box" attrs="{'invisible': [('enable_qr_codes', '=', False)]}">
                                <div class="o_setting_right_pane">
                                    <label for="qr_code_verification_url" string="QR Verification URL"/>
                                    <field name="qr_code_verification_url" placeholder="Leave empty to use default" class="o_light_label"/>
                                    <div class="text-muted">
                                        Custom URL for QR code verification portal
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- OSUS Branding -->
                        <h3>Voucher Branding</h3>
                        <div class="row mt16 o_settings_container">
                            <div class="col-12 col-lg-6 o_setting_box">
                                <div class="o_setting_left_pane">
                                    <field name="use_osus_branding"/>
                                </div>
                                <div class="o_setting_right_pane">
                                    <label for="use_osus_branding"/>
                                    <div class="text-muted">
                                        Apply OSUS brand guidelines to payment vouchers
                                    </div>
                                </div>
                            </div>

                            <div class="col-12 o_setting_box">
                                <div class="o_setting_right_pane">
                                    <label for="voucher_footer_message" string="Voucher Footer Message"/>
                                    <field name="voucher_footer_message" class="o_light_label"/>
                                    <div class="text-muted">
                                        Custom footer message for payment vouchers
                                    </div>
                                </div>
                            </div>

                            <div class="col-12 o_setting_box">
                                <div class="o_setting_right_pane">
                                    <label for="voucher_terms" string="Voucher Terms"/>
                                    <field name="voucher_terms" class="o_light_label"/>
                                    <div class="text-muted">
                                        Terms and conditions text for payment vouchers
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Default Journal -->
                        <h3>Default Settings</h3>
                        <div class="row mt16 o_settings_container">
                            <div class="col-12 col-lg-6 o_setting_box">
                                <div class="o_setting_right_pane">
                                    <label for="default_journal_for_payments" string="Default Payment Journal"/>
                                    <field name="default_journal_for_payments" class="o_light_label"/>
                                    <div class="text-muted">
                                        Default journal for new payment vouchers
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Statistics and Actions -->
                        <h3>System Information</h3>
                        <div class="row mt16 o_settings_container">
                            <div class="col-12 o_setting_box">
                                <div class="o_setting_right_pane">
                                    <label string="Payment Statistics"/>
                                    <field name="payment_voucher_statistics" readonly="1" widget="text" class="o_light_label"/>
                                    <div class="text-muted">
                                        Current payment voucher system statistics
                                    </div>
                                </div>
                            </div>

                            <div class="col-12 o_setting_box">
                                <div class="o_setting_right_pane">
                                    <div class="mt8">
                                        <button name="action_view_payment_dashboard" string="View Payment Dashboard" type="object" class="btn-secondary"/>
                                        <button name="action_test_qr_generation" string="Test QR Generation" type="object" class="btn-secondary ml8" attrs="{'invisible': [('enable_qr_codes', '=', False)]}"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </xpath>
            </field>
        </record>

    </data>
</odoo>
