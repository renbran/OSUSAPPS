<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">

        <!-- ===================================================================== -->
        <!-- PAYMENT APPROVAL WORKFLOW EMAIL TEMPLATES -->
        <!-- ===================================================================== -->

        <!-- 1. Payment Submitted for Review Email Template -->
        <record id="mail_template_payment_submitted" model="mail.template">
            <field name="name">Payment Submitted for Review</field>
            <field name="model_id" ref="account.model_account_payment"/>
            <field name="subject">Payment ${object.voucher_number or object.name} Submitted for Review</field>
            <field name="email_from">${(object.company_id.email or user.email)|safe}</field>
            <field name="email_to">${','.join([u.email for u in object.company_id.user_ids if u.has_group('account.group_account_manager')])}</field>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px; background-color: #f8f9fa; font-family: 'Arial', sans-serif;">
                    <table style="width: 100%; max-width: 600px; margin: 0px auto; background-color: #ffffff; border-collapse: collapse;">
                        <tr>
                            <td style="padding: 20px; text-align: center; background: linear-gradient(135deg, #8b1538, #a41e3a); color: white;">
                                <h2 style="margin: 0; font-size: 24px;">Payment Review Required</h2>
                                <p style="margin: 8px 0 0 0; opacity: 0.9;">OSUS Payment Approval System</p>
                            </td>
                        </tr>
                        <tr>
                            <td style="padding: 30px 20px;">
                                <p>Dear Payment Reviewer,</p>
                                <p>A new payment has been submitted and requires your review.</p>

                                <div style="background: #e3f2fd; border-left: 4px solid #2196f3; padding: 20px; margin: 20px 0;">
                                    <h3 style="color: #1976d2; margin: 0 0 15px 0;">Payment Details:</h3>
                                    <p>
                                        <strong>Voucher Number:</strong> ${object.voucher_number or object.name}</p>
                                    <p>
                                        <strong>Partner:</strong> ${object.partner_id.name}</p>
                                    <p>
                                        <strong>Amount:</strong> ${object.currency_id.symbol}${'{:,.2f}'.format(object.amount)}</p>
                                    <p>
                                        <strong>Type:</strong> ${'Receipt' if object.payment_type == 'inbound' else 'Payment'}</p>
                                    <p>
                                        <strong>Submitted By:</strong> ${object.create_uid.name}</p>
                                    <p>
                                        <strong>Date Submitted:</strong> ${object.create_date.strftime('%Y-%m-%d %H:%M')}</p>
                                    <p>
                                        <strong>Current Status:</strong>
                                        <span style="color: #2196f3; font-weight: bold;">Under Review</span>
                                    </p>
                                </div>

                                <div style="text-align: center; margin: 30px 0;">
                                    <a href="/web#id=${object.id}&amp;model=account.payment&amp;view_type=form" style="background: #8b1538; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; display: inline-block;">
                                        Review Payment Now
                                    </a>
                                </div>

                                <p style="font-size: 14px; color: #666;">Please review this payment promptly to maintain our approval workflow efficiency.</p>

                                <p>Best regards,<br/>
                                <strong>OSUS Payment System</strong>
                            </p>
                        </td>
                    </tr>
                    <tr>
                        <td style="padding: 15px 20px; background-color: #f8f9fa; text-align: center; font-size: 12px; color: #6c757d;">
                                This is an automated notification from the payment approval system.
                        </td>
                    </tr>
                </table>
            </div>
        </field>
        <field name="auto_delete" eval="True"/>
    </record>

    <!-- 2. Payment Approved - Needs Authorization Email Template -->
    <record id="mail_template_payment_approved_authorization" model="mail.template">
        <field name="name">Payment Approved - Authorization Required</field>
        <field name="model_id" ref="account.model_account_payment"/>
        <field name="subject">Payment ${object.voucher_number or object.name} Approved - Authorization Required</field>
        <field name="email_from">${(object.company_id.email or user.email)|safe}</field>
        <field name="email_to">${','.join([u.email for u in object.company_id.user_ids if u.has_group('payment_account_enhanced.group_payment_authorizer')])}</field>
        <field name="body_html" type="html">
            <div style="margin: 0px; padding: 0px; background-color: #f8f9fa; font-family: 'Arial', sans-serif;">
                <table style="width: 100%; max-width: 600px; margin: 0px auto; background-color: #ffffff; border-collapse: collapse;">
                    <tr>
                        <td style="padding: 20px; text-align: center; background: linear-gradient(135deg, #ff9800, #f57c00); color: white;">
                            <h2 style="margin: 0; font-size: 24px;">Authorization Required</h2>
                            <p style="margin: 8px 0 0 0; opacity: 0.9;">High-Value Payment Authorization</p>
                        </td>
                    </tr>
                    <tr>
                        <td style="padding: 30px 20px;">
                            <p>Dear Payment Authorizer,</p>
                            <p>A payment has been approved and now requires your <strong>final authorization</strong> before processing.</p>

                            <div style="background: #fff3e0; border-left: 4px solid #ff9800; padding: 20px; margin: 20px 0;">
                                <h3 style="color: #e65100; margin: 0 0 15px 0;">Payment Details:</h3>
                                <p>
                                    <strong>Voucher Number:</strong> ${object.voucher_number or object.name}</p>
                                <p>
                                    <strong>Partner:</strong> ${object.partner_id.name}</p>
                                <p>
                                    <strong>Amount:</strong> ${object.currency_id.symbol}${'{:,.2f}'.format(object.amount)}</p>
                                <p>
                                    <strong>Approved By:</strong> ${object.approver_id.name if object.approver_id else 'N/A'}</p>
                                <p>
                                    <strong>Approval Date:</strong> ${object.approver_date.strftime('%Y-%m-%d %H:%M') if object.approver_date else 'N/A'}</p>
                                <p>
                                    <strong>Current Status:</strong>
                                    <span style="color: #ff9800; font-weight: bold;">For Authorization</span>
                                </p>
                            </div>

                                % if object.amount >= 100000:
                            <div style="background: #ffebee; border: 1px solid #f44336; padding: 15px; border-radius: 6px; margin: 20px 0;">
                                <p style="color: #d32f2f; font-weight: bold; margin: 0;">⚠️ HIGH-VALUE PAYMENT ALERT</p>
                                <p style="color: #d32f2f; margin: 5px 0 0 0;">This payment exceeds the high-value threshold and requires special attention.</p>
                            </div>
                                % endif

                            <div style="text-align: center; margin: 30px 0;">
                                <a href="/web#id=${object.id}&amp;model=account.payment&amp;view_type=form" style="background: #ff9800; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; display: inline-block;">
                                        Authorize Payment
                                </a>
                            </div>

                            <p style="font-size: 14px; color: #666;">Your authorization is the final step before payment processing.</p>

                            <p>Best regards,<br/>
                            <strong>OSUS Payment System</strong>
                        </p>
                    </td>
                </tr>
                <tr>
                    <td style="padding: 15px 20px; background-color: #f8f9fa; text-align: center; font-size: 12px; color: #6c757d;">
                                This is an automated notification from the payment approval system.
                    </td>
                </tr>
            </table>
        </div>
    </field>
    <field name="auto_delete" eval="True"/>
</record>

<!-- 3. Payment Fully Approved Email Template -->
<record id="mail_template_payment_fully_approved" model="mail.template">
    <field name="name">Payment Fully Approved</field>
    <field name="model_id" ref="account.model_account_payment"/>
    <field name="subject">Payment ${object.voucher_number or object.name} Fully Approved</field>
    <field name="email_from">${(object.company_id.email or user.email)|safe}</field>
    <field name="email_to">${object.create_uid.email}</field>
    <field name="email_cc">${object.partner_id.email}</field>
    <field name="body_html" type="html">
        <div style="margin: 0px; padding: 0px; background-color: #f8f9fa; font-family: 'Arial', sans-serif;">
            <table style="width: 100%; max-width: 600px; margin: 0px auto; background-color: #ffffff; border-collapse: collapse;">
                <tr>
                    <td style="padding: 20px; text-align: center; background: linear-gradient(135deg, #4caf50, #388e3c); color: white;">
                        <h2 style="margin: 0; font-size: 24px;">Payment Approved</h2>
                        <p style="margin: 8px 0 0 0; opacity: 0.9;">Ready for Processing</p>
                    </td>
                </tr>
                <tr>
                    <td style="padding: 30px 20px;">
                        <p>Dear ${object.create_uid.name},</p>
                        <p>Great news! Your payment has been <strong style="color: #4caf50;">fully approved</strong> and is ready for processing.</p>

                        <div style="background: #e8f5e8; border-left: 4px solid #4caf50; padding: 20px; margin: 20px 0;">
                            <h3 style="color: #2e7d32; margin: 0 0 15px 0;">✅ Approval Summary:</h3>
                            <p>
                                <strong>Voucher Number:</strong> ${object.voucher_number or object.name}</p>
                            <p>
                                <strong>Partner:</strong> ${object.partner_id.name}</p>
                            <p>
                                <strong>Amount:</strong> ${object.currency_id.symbol}${'{:,.2f}'.format(object.amount)}</p>
                            <p>
                                <strong>Reviewer:</strong> ${object.reviewer_id.name if object.reviewer_id else 'N/A'}</p>
                            <p>
                                <strong>Approver:</strong> ${object.approver_id.name if object.approver_id else 'N/A'}</p>
                            <p>
                                <strong>Authorizer:</strong> ${object.authorizer_id.name if object.authorizer_id else 'N/A'}</p>
                            <p>
                                <strong>Final Status:</strong>
                                <span style="color: #4caf50; font-weight: bold;">Approved</span>
                            </p>
                        </div>

                        <div style="text-align: center; margin: 30px 0;">
                            <a href="/web#id=${object.id}&amp;model=account.payment&amp;view_type=form" style="background: #4caf50; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; display: inline-block;">
                                        View Payment Details
                            </a>
                        </div>

                        <p>The payment will be processed according to your company's standard procedures.</p>

                        <p>Best regards,<br/>
                        <strong>OSUS Payment System</strong>
                    </p>
                </td>
            </tr>
            <tr>
                <td style="padding: 15px 20px; background-color: #f8f9fa; text-align: center; font-size: 12px; color: #6c757d;">
                                This is an automated notification from the payment approval system.
                </td>
            </tr>
        </table>
    </div>
</field>
<field name="auto_delete" eval="True"/>
</record>

<!-- 4. Payment Rejected Email Template -->
<record id="mail_template_payment_rejected" model="mail.template">
<field name="name">Payment Rejected</field>
<field name="model_id" ref="account.model_account_payment"/>
<field name="subject">Payment ${object.voucher_number or object.name} Rejected</field>
<field name="email_from">${(object.company_id.email or user.email)|safe}</field>
<field name="email_to">${object.create_uid.email}</field>
<field name="body_html" type="html">
    <div style="margin: 0px; padding: 0px; background-color: #f8f9fa; font-family: 'Arial', sans-serif;">
        <table style="width: 100%; max-width: 600px; margin: 0px auto; background-color: #ffffff; border-collapse: collapse;">
            <tr>
                <td style="padding: 20px; text-align: center; background: linear-gradient(135deg, #f44336, #d32f2f); color: white;">
                    <h2 style="margin: 0; font-size: 24px;">Payment Rejected</h2>
                    <p style="margin: 8px 0 0 0; opacity: 0.9;">Requires Review</p>
                </td>
            </tr>
            <tr>
                <td style="padding: 30px 20px;">
                    <p>Dear ${object.create_uid.name},</p>
                    <p>We regret to inform you that your payment has been <strong style="color: #f44336;">rejected</strong> during the approval process.</p>

                    <div style="background: #ffebee; border-left: 4px solid #f44336; padding: 20px; margin: 20px 0;">
                        <h3 style="color: #c62828; margin: 0 0 15px 0;">❌ Rejection Details:</h3>
                        <p>
                            <strong>Voucher Number:</strong> ${object.voucher_number or object.name}</p>
                        <p>
                            <strong>Partner:</strong> ${object.partner_id.name}</p>
                        <p>
                            <strong>Amount:</strong> ${object.currency_id.symbol}${'{:,.2f}'.format(object.amount)}</p>
                        <p>
                            <strong>Rejected By:</strong> ${user.name}</p>
                        <p>
                            <strong>Rejection Date:</strong> ${context.get('rejection_date', 'Today')}</p>
                        <p>
                            <strong>Status:</strong>
                            <span style="color: #f44336; font-weight: bold;">Rejected</span>
                        </p>
                    </div>

                                % if object.remarks:
                    <div style="background: #fff3e0; padding: 15px; border-radius: 6px; margin: 20px 0;">
                        <p style="font-weight: bold; margin: 0 0 10px 0;">Comments:</p>
                        <p style="margin: 0;">${object.remarks}</p>
                    </div>
                                % endif

                    <p>Please review the rejection reasons and make necessary corrections before resubmitting.</p>

                    <div style="text-align: center; margin: 30px 0;">
                        <a href="/web#id=${object.id}&amp;model=account.payment&amp;view_type=form" style="background: #f44336; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; display: inline-block;">
                                        Review Payment
                        </a>
                    </div>

                    <p>If you have questions about this rejection, please contact the approver directly.</p>

                    <p>Best regards,<br/>
                    <strong>OSUS Payment System</strong>
                </p>
            </td>
        </tr>
        <tr>
            <td style="padding: 15px 20px; background-color: #f8f9fa; text-align: center; font-size: 12px; color: #6c757d;">
                                This is an automated notification from the payment approval system.
            </td>
        </tr>
    </table>
</div>
</field>
<field name="auto_delete" eval="True"/>
</record>

<!-- 5. Payment Posted/Completed Email Template -->
<record id="mail_template_payment_posted" model="mail.template">
<field name="name">Payment Posted - Transaction Complete</field>
<field name="model_id" ref="account.model_account_payment"/>
<field name="subject">Payment ${object.voucher_number or object.name} Posted Successfully</field>
<field name="email_from">${(object.company_id.email or user.email)|safe}</field>
<field name="email_to">${object.create_uid.email}</field>
<field name="email_cc">${object.partner_id.email}</field>
<field name="body_html" type="html">
<div style="margin: 0px; padding: 0px; background-color: #f8f9fa; font-family: 'Arial', sans-serif;">
    <table style="width: 100%; max-width: 600px; margin: 0px auto; background-color: #ffffff; border-collapse: collapse;">
        <tr>
            <td style="padding: 20px; text-align: center; background: linear-gradient(135deg, #1976d2, #1565c0); color: white;">
                <h2 style="margin: 0; font-size: 24px;">Payment Posted</h2>
                <p style="margin: 8px 0 0 0; opacity: 0.9;">Transaction Complete</p>
            </td>
        </tr>
        <tr>
            <td style="padding: 30px 20px;">
                <p>Dear ${object.create_uid.name},</p>
                <p>Your payment has been <strong style="color: #1976d2;">successfully posted</strong> and the transaction is now complete.</p>

                <div style="background: #e3f2fd; border-left: 4px solid #1976d2; padding: 20px; margin: 20px 0;">
                    <h3 style="color: #1565c0; margin: 0 0 15px 0;">✅ Transaction Complete:</h3>
                    <p>
                        <strong>Voucher Number:</strong> ${object.voucher_number or object.name}</p>
                    <p>
                        <strong>Partner:</strong> ${object.partner_id.name}</p>
                    <p>
                        <strong>Amount:</strong> ${object.currency_id.symbol}${'{:,.2f}'.format(object.amount)}</p>
                    <p>
                        <strong>Posted Date:</strong> ${object.date}</p>
                    <p>
                        <strong>Journal:</strong> ${object.journal_id.name}</p>
                    <p>
                        <strong>Status:</strong>
                        <span style="color: #1976d2; font-weight: bold;">Posted</span>
                    </p>
                </div>

                <div style="text-align: center; margin: 30px 0;">
                    <a href="/payment/verify/${object.access_token}" style="background: #1976d2; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; display: inline-block;">
                                        View Payment Voucher
                    </a>
                </div>

                <p>A payment voucher with QR code verification is available for your records.</p>

                <p>Best regards,<br/>
                <strong>OSUS Payment System</strong>
            </p>
        </td>
    </tr>
    <tr>
        <td style="padding: 15px 20px; background-color: #f8f9fa; text-align: center; font-size: 12px; color: #6c757d;">
                                This is an automated notification from the payment approval system.
        </td>
    </tr>
</table>
</div>
</field>
<field name="auto_delete" eval="True"/>
</record>

<!-- ===================================================================== -->
<!-- REMINDER EMAIL TEMPLATES -->
<!-- ===================================================================== -->

<!-- 6. Approval Reminder Email Template -->
<record id="mail_template_approval_reminder" model="mail.template">
<field name="name">Payment Approval Reminder</field>
<field name="model_id" ref="account.model_account_payment"/>
<field name="subject">REMINDER: Payment ${object.voucher_number or object.name} Awaiting Approval</field>
<field name="email_from">${(object.company_id.email or user.email)|safe}</field>
<field name="body_html" type="html">
<div style="margin: 0px; padding: 0px; background-color: #f8f9fa; font-family: 'Arial', sans-serif;">
<table style="width: 100%; max-width: 600px; margin: 0px auto; background-color: #ffffff; border-collapse: collapse;">
    <tr>
        <td style="padding: 20px; text-align: center; background: linear-gradient(135deg, #ff5722, #e64a19); color: white;">
            <h2 style="margin: 0; font-size: 24px;">⏰ APPROVAL REMINDER</h2>
            <p style="margin: 8px 0 0 0; opacity: 0.9;">Action Required</p>
        </td>
    </tr>
    <tr>
        <td style="padding: 30px 20px;">
            <p>Dear Approver,</p>
            <p>
                <strong>This is a reminder</strong> that a payment is still awaiting your approval.</p>

            <div style="background: #fff3e0; border: 2px solid #ff9800; padding: 20px; margin: 20px 0; border-radius: 8px;">
                <h3 style="color: #e65100; margin: 0 0 15px 0;">⚠️ Payment Pending Approval:</h3>
                <p>
                    <strong>Voucher Number:</strong> ${object.voucher_number or object.name}</p>
                <p>
                    <strong>Partner:</strong> ${object.partner_id.name}</p>
                <p>
                    <strong>Amount:</strong> ${object.currency_id.symbol}${'{:,.2f}'.format(object.amount)}</p>
                <p>
                    <strong>Days Pending:</strong> ${(datetime.datetime.now() - object.create_date).days} days</p>
                <p>
                    <strong>Current Status:</strong>
                    <span style="color: #ff9800; font-weight: bold;">${object.approval_state.replace('_', ' ').title()}</span>
                </p>
                                    % if object.amount >= 100000:
                <p style="color: #d32f2f; font-weight: bold;">🚨 HIGH-VALUE PAYMENT - URGENT ATTENTION REQUIRED</p>
                                    % endif
            </div>

            <div style="text-align: center; margin: 30px 0;">
                <a href="/web#id=${object.id}&amp;model=account.payment&amp;view_type=form" style="background: #ff5722; color: white; padding: 15px 30px; text-decoration: none; border-radius: 6px; display: inline-block; font-size: 16px;">
                                        APPROVE NOW
                </a>
            </div>

            <p style="font-size: 14px; color: #666;">Please take action on this payment to avoid delays in processing.</p>

            <p>Best regards,<br/>
            <strong>OSUS Payment System</strong>
        </p>
    </td>
</tr>
<tr>
    <td style="padding: 15px 20px; background-color: #fff3e0; text-align: center; font-size: 12px; color: #e65100;">
        <strong>This is an automated reminder. Please do not reply to this email.</strong>
    </td>
</tr>
</table>
</div>
</field>
<field name="auto_delete" eval="True"/>
</record>

<!-- 7. Escalation Email Template -->
<record id="mail_template_approval_escalation" model="mail.template">
<field name="name">Payment Approval Escalation</field>
<field name="model_id" ref="account.model_account_payment"/>
<field name="subject">ESCALATION: Payment ${object.voucher_number or object.name} - Approval Overdue</field>
<field name="email_from">${(object.company_id.email or user.email)|safe}</field>
<field name="body_html" type="html">
<div style="margin: 0px; padding: 0px; background-color: #f8f9fa; font-family: 'Arial', sans-serif;">
<table style="width: 100%; max-width: 600px; margin: 0px auto; background-color: #ffffff; border-collapse: collapse;">
<tr>
    <td style="padding: 20px; text-align: center; background: linear-gradient(135deg, #d32f2f, #b71c1c); color: white;">
        <h2 style="margin: 0; font-size: 24px;">🚨 ESCALATION ALERT</h2>
        <p style="margin: 8px 0 0 0; opacity: 0.9;">Payment Approval Overdue</p>
    </td>
</tr>
<tr>
    <td style="padding: 30px 20px;">
        <p>Dear Payment Manager,</p>
        <p>
            <strong style="color: #d32f2f;">URGENT:</strong> A payment approval is overdue and requires immediate attention.</p>

        <div style="background: #ffebee; border: 2px solid #f44336; padding: 20px; margin: 20px 0; border-radius: 8px;">
            <h3 style="color: #c62828; margin: 0 0 15px 0;">🚨 Overdue Payment Details:</h3>
            <p>
                <strong>Voucher Number:</strong> ${object.voucher_number or object.name}</p>
            <p>
                <strong>Partner:</strong> ${object.partner_id.name}</p>
            <p>
                <strong>Amount:</strong> ${object.currency_id.symbol}${'{:,.2f}'.format(object.amount)}</p>
            <p>
                <strong>Days Overdue:</strong>
                <span style="color: #d32f2f; font-weight: bold;">${(datetime.datetime.now() - object.create_date).days} days</span>
            </p>
            <p>
                <strong>Current Status:</strong>
                <span style="color: #f44336; font-weight: bold;">${object.approval_state.replace('_', ' ').title()}</span>
            </p>
            <p>
                <strong>Assigned Approver:</strong> ${object._get_current_approver_name()}</p>
        </div>

        <div style="background: #e1f5fe; padding: 15px; border-radius: 6px; margin: 20px 0;">
            <p style="font-weight: bold; margin: 0 0 10px 0;">Recommended Actions:</p>
            <ul style="margin: 0; padding-left: 20px;">
                <li>Contact the assigned approver directly</li>
                <li>Review the payment urgency and priority</li>
                <li>Consider reassigning to another approver</li>
                <li>Escalate to senior management if necessary</li>
            </ul>
        </div>

        <div style="text-align: center; margin: 30px 0;">
            <a href="/web#id=${object.id}&amp;model=account.payment&amp;view_type=form" style="background: #d32f2f; color: white; padding: 15px 30px; text-decoration: none; border-radius: 6px; display: inline-block; font-size: 16px;">
                                        TAKE ACTION NOW
            </a>
        </div>

        <p>Please address this matter urgently to maintain payment processing efficiency.</p>

        <p>Best regards,<br/>
        <strong>OSUS Payment System</strong>
    </p>
</td>
</tr>
<tr>
<td style="padding: 15px 20px; background-color: #ffebee; text-align: center; font-size: 12px; color: #d32f2f;">
    <strong>AUTOMATED ESCALATION - IMMEDIATE ATTENTION REQUIRED</strong>
</td>
</tr>
</table>
</div>
</field>
<field name="auto_delete" eval="True"/>
</record>

<!-- ===================================================================== -->
<!-- LEGACY TEMPLATES (PRESERVED) -->
<!-- ===================================================================== -->

<!-- Payment Verified Email Template (Original) -->
<record id="mail_template_payment_verified" model="mail.template">
<field name="name">Payment Verified Notification</field>
<field name="model_id" ref="account.model_account_payment"/>
<field name="subject">Payment ${object.voucher_number or object.name} Verified Successfully</field>
<field name="email_from">${(object.company_id.email or user.email)|safe}</field>
<field name="email_to">${object.partner_id.email|safe}</field>
<field name="body_html" type="html">
<div style="margin: 0px; padding: 0px; background-color: #f8f9fa; font-family: 'Arial', sans-serif;">
<table style="width: 100%; max-width: 600px; margin: 0px auto; background-color: #ffffff; border-collapse: collapse;">
<tr>
<td style="padding: 20px; text-align: center; background: linear-gradient(135deg, #1f4788, #153766); color: white;">
    <h2 style="margin: 0; font-size: 24px;">Payment Verification Successful</h2>
    <p style="margin: 8px 0 0 0; opacity: 0.9;">OSUS Properties Payment System</p>
</td>
</tr>
<tr>
<td style="padding: 30px 20px;">
    <p>Dear <strong>${object.partner_id.name}</strong>,
    </p>
    <p>We are pleased to inform you that your payment has been <strong style="color: #28a745;">VERIFIED</strong> successfully.</p>

    <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;">
        <h3 style="color: #1f4788; margin: 0 0 15px 0;">Payment Details:</h3>
        <p>
            <strong>Voucher Number:</strong> ${object.voucher_number or object.name}</p>
        <p>
            <strong>Amount:</strong> ${object.currency_id.symbol}${'{:,.2f}'.format(object.amount)}</p>
        <p>
            <strong>Date:</strong> ${object.date}</p>
        <p>
            <strong>Status:</strong>
            <span style="color: #28a745; font-weight: bold;">VERIFIED</span>
        </p>
    </div>

    <p>This verification confirms the authenticity and accuracy of your payment transaction.</p>
    <p style="margin-top: 30px;">Thank you for your business.</p>
    <p>Best regards,<br/>
    <strong>${object.company_id.name}</strong>
</p>
</td>
</tr>
<tr>
<td style="padding: 15px 20px; background-color: #f8f9fa; text-align: center; font-size: 12px; color: #6c757d;">
                                This is an automated notification from the payment verification system.
</td>
</tr>
</table>
</div>
</field>
<field name="auto_delete" eval="True"/>
</record>

<!-- Payment Verification Rejected Email Template -->
<record id="mail_template_payment_verification_rejected" model="mail.template">
<field name="name">Payment Verification Rejected</field>
<field name="model_id" ref="account.model_account_payment"/>
<field name="subject">Important: Payment ${object.voucher_number or object.name} Verification Rejected</field>
<field name="email_from">${(object.company_id.email or user.email)|safe}</field>
<field name="email_to">${object.partner_id.email|safe}</field>
<field name="body_html" type="html">
<div style="margin: 0px; padding: 0px; background-color: #f8f9fa; font-family: 'Arial', sans-serif;">
<table style="width: 100%; max-width: 600px; margin: 0px auto; background-color: #ffffff; border-collapse: collapse;">
<tr>
<td style="padding: 20px; text-align: center; background: linear-gradient(135deg, #dc3545, #c82333); color: white;">
<h2 style="margin: 0; font-size: 24px;">Payment Verification Rejected</h2>
<p style="margin: 8px 0 0 0; opacity: 0.9;">OSUS Properties Payment System</p>
</td>
</tr>
<tr>
<td style="padding: 30px 20px;">
<p>Dear <strong>${object.partner_id.name}</strong>,
</p>

<p>We regret to inform you that the verification for your payment has been <strong style="color: #dc3545;">REJECTED</strong>.
</p>

<div style="background: #f8d7da; border: 1px solid #f5c6cb; padding: 20px; border-radius: 8px; margin: 20px 0;">
    <h3 style="color: #721c24; margin: 0 0 15px 0;">Payment Details:</h3>
    <p>
        <strong>Voucher Number:</strong> ${object.voucher_number or object.name}</p>
    <p>
        <strong>Amount:</strong> ${object.currency_id.symbol}${'{:,.2f}'.format(object.amount)}</p>
    <p>
        <strong>Date:</strong> ${object.date}</p>
    <p>
        <strong>Status:</strong>
        <span style="color: #dc3545; font-weight: bold;">REJECTED</span>
    </p>
</div>

<p>
    <strong>Next Steps:</strong>
</p>
<ul>
    <li>Please contact our support team for clarification</li>
    <li>Verify all payment details are correct</li>
    <li>Resubmit payment if necessary</li>
</ul>

<p>For immediate assistance, please contact us at <strong>${object.company_id.phone or 'your contact number'}</strong>.
</p>

<p style="margin-top: 30px;">Sincerely,<br/>
<strong>${object.company_id.name}</strong>
</p>
</td>
</tr>
<tr>
<td style="padding: 15px 20px; background-color: #f8f9fa; text-align: center; font-size: 12px; color: #6c757d;">
                This is an automated notification. Please do not reply to this email.
<br/>
                For support, contact us at ${object.company_id.email or 'support@company.com'}
</td>
</tr>
</table>
</div>
</field>
<field name="auto_delete" eval="True"/>
</record>

<!-- Approval Request Email Template -->
<record id="mail_template_approval_request" model="mail.template">
<field name="name">Payment Approval Request</field>
<field name="model_id" ref="account.model_account_payment"/>
<field name="subject">Payment Approval Required: ${object.voucher_number or object.name}</field>
<field name="email_from">${(object.company_id.email or user.email)|safe}</field>
<field name="body_html" type="html">
<div style="margin: 0px; padding: 0px; background-color: #f8f9fa; font-family: 'Arial', sans-serif;">
<table style="width: 100%; max-width: 600px; margin: 0px auto; background-color: #ffffff; border-collapse: collapse;">
<tr>
<td style="padding: 20px; text-align: center; background: linear-gradient(135deg, #ffc107, #e0a800); color: #212529;">
<h2 style="margin: 0; font-size: 24px;">Payment Approval Required</h2>
<p style="margin: 8px 0 0 0;">OSUS Properties Payment System</p>
</td>
</tr>
<tr>
<td style="padding: 30px 20px;">
<p>Dear Approver,</p>

<p>A payment requires your approval in the system.</p>

<div style="background: #fff3cd; border: 1px solid #ffeaa7; padding: 20px; border-radius: 8px; margin: 20px 0;">
<h3 style="color: #856404; margin: 0 0 15px 0;">Payment Details:</h3>
<p>
    <strong>Voucher Number:</strong> ${object.voucher_number or object.name}</p>
<p>
    <strong>Partner:</strong> ${object.partner_id.name}</p>
<p>
    <strong>Amount:</strong> ${object.currency_id.symbol}${'{:,.2f}'.format(object.amount)}</p>
<p>
    <strong>Type:</strong> ${'Receipt' if object.payment_type == 'inbound' else 'Payment'}</p>
<p>
    <strong>Submitted By:</strong> ${object.create_uid.name}</p>
</div>

<p>Please log into the system to review and approve this payment.</p>

<div style="text-align: center; margin: 30px 0;">
<a href="${object.get_signup_url()}" style="background: #1f4788; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; display: inline-block;">
                        Review Payment
</a>
</div>

<p>Best regards,<br/>
<strong>${object.company_id.name}</strong> Payment System
</p>
</td>
</tr>
<tr>
<td style="padding: 15px 20px; background-color: #f8f9fa; text-align: center; font-size: 12px; color: #6c757d;">
                This is an automated notification from the payment approval system.
            </td>
        </tr>
    </table>
</div>
</field>
<field name="auto_delete" eval="True"/>
</record>

        <!-- ===================================================================== -->
        <!-- PAYMENT NOTIFICATION SYSTEM EMAIL TEMPLATES -->
        <!-- ===================================================================== -->

        <!-- Review Notification Template -->
        <record id="mail_template_review_notification" model="mail.template">
            <field name="name">Payment Review Notification</field>
            <field name="model_id" ref="account.model_account_payment"/>
            <field name="subject">Action Required: Payment ${object.voucher_number or object.name} Awaiting Review</field>
            <field name="email_from">${(object.company_id.email or user.email)|safe}</field>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px; background-color: #f8f9fa; font-family: 'Arial', sans-serif;">
                    <table style="width: 100%; max-width: 600px; margin: 0px auto; background-color: #ffffff; border-collapse: collapse;">
                        <tr>
                            <td style="padding: 20px; text-align: center; background: linear-gradient(135deg, #ff9800, #f57c00); color: white;">
                                <h2 style="margin: 0; font-size: 24px;">Review Required</h2>
                                <p style="margin: 8px 0 0 0; opacity: 0.9;">Payment Notification System</p>
                            </td>
                        </tr>
                        <tr>
                            <td style="padding: 30px 20px;">
                                <p>Dear ${ctx.get('recipient_user', user).name},</p>
                                <p>The following payment is awaiting your review:</p>

                                <div style="background: #fff3e0; border-left: 4px solid #ff9800; padding: 20px; margin: 20px 0;">
                                    <h3 style="color: #f57c00; margin: 0 0 15px 0;">Payment Details:</h3>
                                    <p><strong>Voucher:</strong> ${object.voucher_number or object.name}</p>
                                    <p><strong>Partner:</strong> ${object.partner_id.name}</p>
                                    <p><strong>Amount:</strong> ${object.currency_id.symbol}${'{:,.2f}'.format(object.amount)}</p>
                                    <p><strong>Status:</strong> Under Review</p>
                                </div>

                                <div style="text-align: center; margin: 30px 0;">
                                    <a href="/web#id=${object.id}&amp;model=account.payment&amp;view_type=form" 
                                       style="background-color: #ff9800; color: white; padding: 12px 30px; text-decoration: none; border-radius: 5px; font-weight: bold;">
                                        Review Payment
                                    </a>
                                </div>

                                <p style="color: #666; font-size: 12px;">This is an automated notification from the Payment Notification System.</p>
                            </td>
                        </tr>
                    </table>
                </div>
            </field>
            <field name="auto_delete" eval="True"/>
        </record>

        <!-- Escalation Notification Template -->
        <record id="mail_template_escalation_notification" model="mail.template">
            <field name="name">Payment Escalation Notification</field>
            <field name="model_id" ref="account.model_account_payment"/>
            <field name="subject">URGENT: Payment ${object.voucher_number or object.name} Overdue</field>
            <field name="email_from">${(object.company_id.email or user.email)|safe}</field>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px; background-color: #f8f9fa; font-family: 'Arial', sans-serif;">
                    <table style="width: 100%; max-width: 600px; margin: 0px auto; background-color: #ffffff; border-collapse: collapse;">
                        <tr>
                            <td style="padding: 20px; text-align: center; background: linear-gradient(135deg, #f44336, #d32f2f); color: white;">
                                <h2 style="margin: 0; font-size: 24px;">⚠️ URGENT ESCALATION</h2>
                                <p style="margin: 8px 0 0 0; opacity: 0.9;">Payment Notification System</p>
                            </td>
                        </tr>
                        <tr>
                            <td style="padding: 30px 20px;">
                                <p>Dear Manager,</p>
                                <p><strong>The following payment has been pending for more than 72 hours:</strong></p>

                                <div style="background: #ffebee; border: 2px solid #f44336; padding: 20px; margin: 20px 0;">
                                    <h3 style="color: #d32f2f; margin: 0 0 15px 0;">⚠️ Overdue Payment:</h3>
                                    <p><strong>Voucher:</strong> ${object.voucher_number or object.name}</p>
                                    <p><strong>Partner:</strong> ${object.partner_id.name}</p>
                                    <p><strong>Amount:</strong> ${object.currency_id.symbol}${'{:,.2f}'.format(object.amount)}</p>
                                    <p><strong>Status:</strong> ${object.approval_state.replace('_', ' ').title()}</p>
                                </div>

                                <div style="text-align: center; margin: 30px 0;">
                                    <a href="/web#id=${object.id}&amp;model=account.payment&amp;view_type=form" 
                                       style="background-color: #f44336; color: white; padding: 12px 30px; text-decoration: none; border-radius: 5px; font-weight: bold;">
                                        URGENT: Review Payment
                                    </a>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
            </field>
            <field name="auto_delete" eval="True"/>
        </record>

</data>
</odoo>