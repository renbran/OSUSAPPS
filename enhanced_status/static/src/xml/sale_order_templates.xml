<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <!-- Enhanced Sale Order Form Template -->
    <t t-name="enhanced_status.SaleOrderFormEnhanced">
        <div class="sale-order-enhanced-wrapper">
            <!-- Tab Progress Indicator -->
            <div class="tab-progress-container">
                <t t-component="TabProgressIndicator" progress="state.completionProgress" stage="props.stage"/>
            </div>

            <!-- Workflow Helper Button -->
            <div class="workflow-helper">
                <button type="button" class="btn btn-link" t-on-click="showWorkflowHelp">
                    <i class="fa fa-question-circle"/>
 Workflow Help
                </button>
            </div>
        </div>
    </t>

    <!-- Tab Progress Indicator Template -->
    <t t-name="enhanced_status.TabProgressIndicator">
        <div class="progress-indicator-wrapper">
            <div class="progress-header">
                <span class="progress-title">Workflow Progress</span>
                <span class="progress-percentage" t-esc="props.progress"/>
%
            </div>
            <div class="progress progress-enhanced">
                <div class="progress-bar" t-att-class="progressColor" role="progressbar" t-att-style="progressBarStyle" t-att-aria-valuenow="props.progress" aria-valuemin="0" aria-valuemax="100">
                </div>
            </div>
            <div class="progress-stages">
                <span class="stage-marker" t-att-class="props.progress >= 25 ? 'completed' : ''">Doc</span>
                <span class="stage-marker" t-att-class="props.progress >= 50 ? 'completed' : ''">Calc</span>
                <span class="stage-marker" t-att-class="props.progress >= 75 ? 'completed' : ''">Appr</span>
                <span class="stage-marker" t-att-class="props.progress >= 100 ? 'completed' : ''">Done</span>
            </div>
        </div>
    </t>

    <!-- Financial Status Widget Template -->
    <t t-name="enhanced_status.FinancialStatusWidget">
        <div class="financial-status-widget">
            <div class="financial-summary-grid">
                <!-- Invoiced Amount -->
                <div class="financial-item invoiced">
                    <div class="financial-icon">
                        <i class="fa fa-file-invoice-dollar"/>
                    </div>
                    <div class="financial-content">
                        <div class="financial-amount" t-esc="props.invoiced"/>
                        <div class="financial-label">Invoiced</div>
                        <div class="financial-percentage">
                            <span t-esc="invoicedPercentage"/>
%
                        </div>
                    </div>
                </div>

                <!-- Paid Amount -->
                <div class="financial-item paid">
                    <div class="financial-icon">
                        <i class="fa fa-money-bill-wave"/>
                    </div>
                    <div class="financial-content">
                        <div class="financial-amount" t-esc="props.paid"/>
                        <div class="financial-label">Paid</div>
                        <div class="financial-percentage">
                            <span t-esc="paidPercentage"/>
%
                        </div>
                    </div>
                </div>

                <!-- Balance Amount -->
                <div class="financial-item balance">
                    <div class="financial-icon">
                        <i class="fa fa-balance-scale"/>
                    </div>
                    <div class="financial-content">
                        <div class="financial-amount" t-esc="props.balance"/>
                        <div class="financial-label">Balance</div>
                        <div class="financial-percentage">
                            <span t-esc="balancePercentage"/>
%
                        </div>
                    </div>
                </div>
            </div>

            <!-- Visual Progress Bars -->
            <div class="financial-progress-bars">
                <div class="progress-bar-container">
                    <label>Invoice Progress</label>
                    <div class="progress">
                        <div class="progress-bar bg-info" t-att-style="`width: ${invoicedPercentage}%`"/>
                    </div>
                </div>
                <div class="progress-bar-container">
                    <label>Payment Progress</label>
                    <div class="progress">
                        <div class="progress-bar bg-success" t-att-style="`width: ${paidPercentage}%`"/>
                    </div>
                </div>
            </div>
        </div>
    </t>

</templates>
