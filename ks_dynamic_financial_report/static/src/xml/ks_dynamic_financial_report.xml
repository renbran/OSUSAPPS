<?xml version="1.0" encoding="UTF-8" ?>
<templates>
    <t t-name="ks_tax_report_lines" owl="1">
        <ControlPanel display="display">
            <t t-set-slot="control-panel-create-button">
                <Dropdown togglerClass="'btn btn-primary'" showCaret="true">
                    <t t-set-slot="toggler">
                        <span t-on-click="OnPrintPdf" type="button">Print
                            (Pdf)
                        </span>
                    </t>
                    <DropdownItem>
                        <button t-on-click="ksPrintReportXlsx" type="button" class="btn btn-primary"
                                style="position: relative;">
                            Export (XLSX)
                        </button>
                    </DropdownItem>
                    <DropdownItem>
                        <button type="button" t-on-click="ksReportSendEmail" class="btn btn-primary"
                                style="position: relative;">
                            Send Email
                        </button>
                    </DropdownItem>
                </Dropdown>
            </t>
            <t t-set-slot="layout-actions">
                <t t-set="ks_df_informations" t-value="props.ks_master_value.ks_df_informations"/>
                <t t-set="new_ks_df_reports_ids" t-value="props.ks_master_value.new_ks_df_reports_ids"/>
                <t t-call="ks_report_filters"
                   t-props="{ks_df_informations:ks_df_informations,ks_df_reports_ids:ks_df_reports_ids}"/>
            </t>
        </ControlPanel>
        <!--        tax report-->
        <t t-if="props.action.xml_id == 'ks_dynamic_financial_report.ks_df_tax_report_action'">
            <t t-set="ks_df_report_opt" t-value="props.ks_df_report_opt"/>
            <div class="container-fluid o_content  my-4">
                <table id="data-bs-lines" class="table ks_table_tax_report " cellspacing="0" width="100%">
                    <thead class="ks_thead">
                        <tr>
                            <th colspan="1"></th>
                            <t t-if="ks_df_report_opt['ks_diff_filter']['ks_debit_credit_visibility']">

                                <th class="" colspan="1">
                                    <span>Net Amount</span>
                                </th>
                                <th class="" colspan="1">
                                    <span>Tax</span>
                                </th>
                            </t>

                            <t t-if="ks_df_report_opt['ks_diff_filter']['ks_diff_filter_enablity'] and props.ks_df_report_opt['ks_differ']['ks_intervals']">

                                <th class="" colspan="1">
                                    <span>Net Amount
                                        <br></br>
                                        <t t-esc="ks_df_report_opt['date']['ks_string']"/>
                                    </span>

                                </th>
                                <th class="" colspan="1">
                                    <span>Net Tax
                                        <br></br>
                                        <t t-esc="ks_df_report_opt['date']['ks_string']"/>
                                    </span>
                                </th>
                                <t t-foreach="ks_df_report_opt['ks_differ']['ks_intervals']"
                                   t-as="current_interval"
                                   t-key="current_interval.ks_string">
                                    <th class="" colspan="1">
                                        <span>Net Amount
                                            <br></br>
                                            <t t-esc="current_interval['ks_string']"/>
                                        </span>
                                    </th>
                                    <th class="" colspan="1">
                                        <span>Net Tax
                                            <br></br>
                                            <t t-esc="current_interval['ks_string']"/>
                                        </span>
                                    </th>
                                </t>
                            </t>
                        </tr>
                    </thead>
                    <tbody class="border rounded">
                        <t t-foreach="props.ks_report_lines" t-as="a" t-key="a_index">
                            <t t-if="!a['account']">
                                <t t-set="style" t-value="''"/>
                            </t>
                            <t t-if="a['account']">
                                <t t-set="style" t-value="''"/>
                            </t>
                            <t t-if="a['ks_level'] == 0">
                                <t t-set="style_td" t-value="style + ''"/>
                            </t>
                            <t t-if="a['ks_level'] == 1">
                                <t t-set="style_td"
                                   t-value="style + ''"/>
                            </t>
                            <t t-if="a['ks_level'] != 0 and a['ks_level'] != 1">
                                <t t-set="style_td" t-value="style + ''"/>
                            </t>
                            <tr
                                    t-att-style="style"
                                    t-attf-class="ks_py-mline row-toggle a{{a['parent']}}"
                                    t-on-click="event => this.ksGetMoveLines(event)">
                                <td t-att-data-bs-account-id="a['account']" t-att-style="style_td">
                                    <div class="dropdown">
                                        <t t-if="a['list_len']">
                                            <t t-foreach="a['list_len']" t-as="i" t-key="i_index">
                                                <span class="left-space"></span>
                                                <span class="left-space"></span>
                                            </t>
                                        </t>

                                        <t t-if="a['ks_df_report_account_type'] == 'account_report' and (a['account_type'] == 'ks_coa_type')">
                                            <i class="fa fa-caret-down" role="img" aria-label="Unfolded"
                                               title="Unfolded"/>
                                        </t>
                                        <a>
                                            <span t-att-data-bs-account-id="a['account']">
                                                <span t-att-style="style" t-esc="a['ks_name']"/>
                                            </span>
                                            <t t-if="a['account']">
                                                <i class="fa fa-caret-right" role="img" aria-label="Unfolded"
                                                   title="Unfolded"/>
                                            </t>
                                        </a>
                                        <span t-att-data-bs-account-id="a['account']"/>
                                        <ul class="dropdown-menu p-2" role="menu">

                                            <t t-if="a['account']">
                                                <li role="presentation">
                                                    <a role="menuitem" class="ks_view-source" tabindex="-1"
                                                       action="ks_show_df_journal_items"
                                                       t-on-click="event => self.ksgetaction(event)"
                                                       t-att-data-bs-account-id="a['account']">
                                                        Journal Items
                                                    </a>
                                                </li>
                                                <li role="presentation">
                                                    <a role="menuitem" class="ks_view-source" tabindex="1"
                                                       action="ks_show_df_general_ledger"
                                                       t-on-click="event => self.ksgetaction(event)"
                                                       t-att-data-bs-account-id="a['account']">
                                                        General Ledger
                                                    </a>
                                                </li>
                                            </t>
                                        </ul>
                                    </div>
                                </td>
                                <t t-if="ks_df_report_opt['ks_diff_filter']['ks_debit_credit_visibility']">
                                    <td t-att-style="style_td" class="ks_amt">
                                        <span t-raw="a['ks_net_amount']"/>
                                    </td>
                                    <td t-att-style="style_td" class="ks_amt">
                                        <t t-att-style="style_td" t-raw="a['tax']"/>
                                    </td>
                                </t>

                                <t t-if="ks_df_report_opt['ks_diff_filter']['ks_diff_filter_enablity']">
                                    <t t-foreach="a['balance_cmp']" t-as="cn" t-key="cn_index">
                                        <td t-att-style="style_td" class="ks_amt">
                                            <span t-raw="cn[0]['ks_com_net']"/>
                                            <!--                                        <t t-esc="cn['ks_com_net']"/>-->
                                        </td>
                                        <td t-att-style="style_td" class="ks_amt">
                                            <span t-raw="cn[1]['ks_com_tax']"/>
                                            <!--                                        <t t-esc="cn['ks_com_tax']"/>-->
                                        </td>
                                    </t>
                                </t>
                            </tr>
                        </t>
                    </tbody>
                </table>
            </div>
        </t>

        <!--        age receivable-->
        <t t-elif="props.action.xml_id == 'ks_dynamic_financial_report.ks_df_rec_action' or props.action.xml_id == 'ks_dynamic_financial_report.ks_df_pay_action'">
            <div class="container-fluid o_content  my-4">
                <table id="data-bs-lines" class="table ks-data-bs-table-age border" cellspacing="0" width="100%">
                    <thead class="ks_thead">
                        <tr>
                            <th colspan="4">Partners</th>
                            <t t-foreach="ks_period_list" t-as="period" t-key="period">
                                <th class="">
                                    <t t-esc="period"/>
                                </th>
                            </t>
                            <th class="">Total</th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="props.ks_master_value.ks_partner_dict" t-as="partner" t-key="partner">
                            <t t-if="partner != 'Total'">
                                <t t-set="common_id" t-value=""/>
                                <tr class="ks-mline ks_pr-py-mline" data-bs-toggle="collapse"
                                    t-att-data-bs-partner-id="partner"
                                    t-attf-data-bs-target=".a{{partner}}"
                                    t-on-click="event => this.ksGetAgedLinesInfo(event)">
                                    <td colspan="4">
                                        <i class="fa fa-caret-right" role="img" aria-label="Unfolded"
                                           title="Unfolded"></i>
                                        <span>
                                            <t t-esc="ks_partner_dict[partner]['partner_name']"/>
                                        </span>
                                    </td>
                                    <t t-foreach="ks_period_list" t-as="period" t-key="period">
                                        <td class="ks_amt">
                                            <t t-raw="ks_partner_dict[partner][period]"/>
                                        </td>
                                    </t>
                                    <td class="ks_amt">
                                        <t t-raw="ks_partner_dict[partner]['total']"/>
                                    </td>
                                    <t t-set="common_id" t-value="'a'+partner"/>
                                </tr>
                              <tr t-attf-class="collapse a{{partner}}">
                                <td class="p-0"  colspan="12">
                                <ul class="ks_pr-py-mline-ul m-0">
                                    <t t-if="!ks_partner_dict[partner]['single_page']">
                                        <t t-set="total_pages" t-value="ks_partner_dict[partner]['pages'].length"/>
                                        <span class="o_pager_value ks_new_text" t-esc="1"/>
                                        <span>/</span>
                                        <span>
                                            <t t-esc="total_pages"/>
                                        </span>
                                        <span offset="0" t-att-total_pages="total_pages">
                                            <button type="button"
                                                    class="fa fa-chevron-left btn ks_load_previous_new ks_pr-py-mline"
                                                    t-att-data-bs-partner-id="partner" title="Previous"
                                                    t-on-click="(event) => this.ksGetAgedLinesInfo(event)"/>
                                            <button type="button"
                                                    class="fa fa-chevron-right btn ks_load_next_new ks_pr-py-mline"
                                                    t-att-data-bs-partner-id="partner" title="Next"
                                                    t-on-click="(event) => this.ksGetAgedLinesInfo(event)"/>
                                        </span>
                                    </t>
                                </ul>
                            </td>
                            </tr>

                            </t>
                            <t t-else="">
                                <tr class="ks-total-line">
                                    <td colspan="4">
                                        <span>Total</span>
                                    </td>
                                    <t t-foreach="ks_period_list" t-as="period" t-key="period">
                                        <td class="ks_amt">
                                            <t t-raw="ks_partner_dict[partner][period]"/>
                                        </td>
                                    </t>
                                    <td class="ks_amt">
                                        <t t-raw="ks_partner_dict[partner]['total']"/>
                                    </td>
                                </tr>
                            </t>
                        </t>
                    </tbody>
                </table>
            </div>
        </t>
        <!--        consolidated report-->
        <t t-elif="props.action.xml_id == 'ks_dynamic_financial_report.ks_df_cj_action'">
            <div class="container-fluid my-3">
                <table id="data-bs-lines" class="table ks_table_cj0" cellspacing="0" width="100%">
                    <thead class="ks_thead">
                        <tr>
                            <th colspan="8">Journal (code)</th>
                            <th class="">Debit</th>
                            <th class="">Credit</th>
                            <th class="">Balance</th>
                            <th class=""></th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="props.ks_report_lines" t-as="account" t-key="account['id']">
                            <t t-if="account['id'] != 'total' and account['name']!='Details Per Month'">
                                <t t-set="common_id" t-value=""/>
                                <tr class="ks_cj-py-mline" data-bs-toggle="collapse"
                                    t-att-data-bs-journal-id="account['id']"
                                    t-attf-data-bs-target=".a{{account['id']}}"
                                    t-on-click="event => this.ksGetConsolidateInfo(event)">
                                    <td colspan="8">
                                        <i class="fa fa-caret-down" role="img" aria-label="Unfolded"
                                           title="Unfolded"></i>
                                        <span>
                                            <t t-esc="props.lang !== undefined &amp;&amp; account['name'][props.lang] || account['name']"/>
                                        </span>
                                    </td>
                                    <td class="ks_amt ">
                                        <t t-raw="account['debit']"/>
                                    </td>
                                    <td class="ks_amt">
                                        <t t-raw="account['credit']"/>
                                    </td>
                                    <td class="ks_amt">
                                        <t t-raw="account['balance']"/>
                                    </td>
                                    <td class="ks_amt"></td>

                                    <t t-set="common_id" t-value="'a'+account['id']"/>

                                </tr>
                                <tr t-attf-class="collapse a{{account['id']}}">
                                    <td colspan="12" class="p-0">
                                        <ul class="ks_py-plline-ul m-0 ">
                                        </ul>
                                    </td>
                                </tr>
                            </t>
                            <t t-if="account['id'] == 'total'">
                                <tr class="cj-py-total-line">
                                    <td colspan="8">
                                        <span>Total</span>
                                    </td>
                                    <td class="bld ks_amt ">
                                        <t t-raw="account['debit']"/>
                                    </td>
                                    <td class=" bld ks_amt">
                                        <t t-raw="account['credit']"/>
                                    </td>
                                    <td class="bld ks_amt">
                                        <t t-raw="account['balance']"/>
                                    </td>
                                    <td class="ks_amt bld"></td>

                                </tr>
                            </t>
                            <t t-if="account['name']=='Details Per Month'">
                                <tr class="cj-py-total-line">
                                    <td colspan="8" align="left">
                                        <span>Details Per Month</span>
                                    </td>
                                    <td class="ks_amt bld">
                                        <t t-raw="account['debit']"/>
                                    </td>
                                    <td class="ks_amt bld">
                                        <t t-raw="account['credit']"/>
                                    </td>
                                    <td class="ks_amt bld">
                                        <t t-raw="account['balance']"/>
                                    </td>
                                    <td class="ks_amt bld"></td>
                                </tr>

                            </t>
                        </t>
                        <t t-foreach="props.ks_month_lines" t-as="monthly" t-key="monthly['name']">
                            <tr class="cj-py-total-line">
                                <td colspan="8" align="left">
                                    <span>
                                        <t t-esc="monthly['name']"/>
                                    </span>
                                </td>
                                <td class="ks_amt bld">
                                    <t t-raw="monthly['debit']"/>
                                </td>
                                <td class="ks_amt bld">
                                    <t t-raw="monthly['credit']"/>
                                </td>
                                <td class="ks_amt bld">
                                    <t t-raw="monthly['balance']"/>
                                </td>
                                <td class="ks_amt bld"></td>
                            </tr>
                        </t>
                    </tbody>
                </table>
            </div>
        </t>
        <!--        trial balance report-->
        <t t-elif="props.action.xml_id == 'ks_dynamic_financial_report.ks_df_tb_action'">

            <div class="container-fluid o_content  my-4">
                <t t-set="account_data" t-value="props.ks_report_lines"/>
                <t t-set="retained" t-value="props.retained"/>
                <t t-set="ks_df_new_start_report_opt" t-value="props.ks_df_new_start_report_opt"/>
                <t t-set="ks_df_new_end_report_opt" t-value="props.ks_df_new_end_report_opt"/>
                <t t-set="subtotal" t-value="props.subtotal"/>
                <table id="data-bs-lines" class=" ks_table_4 table border" cellspacing="0" width="100%">
                    <thead class="ks_thead">
                        <tr>
                            <th colspan="1"></th>
                            <th class="ks_in_bal" colspan="3">
                                <span>Initial Balance</span>
                            </th>
                            <th class="ks_to_dates" colspan="3">
                                <span>
                                    <t t-esc="ks_df_new_start_report_opt"/>
                                    to
                                    <t t-esc="ks_df_new_end_report_opt"/>

                                </span>
                            </th>
                            <th class="ks_Ending_Bal" colspan="3">
                                <span>Ending Balance</span>
                            </th>
                        </tr>
                        <tr>
                            <th class="ks_color_th_1">Account</th>
                            <th class=" ks_color_th_2">Debit</th>
                            <th class=" ks_color_th_2">Credit</th>
                            <th class=" ks_color_th_2">Balance</th>
                            <th class=" ks_color_th_3">Debit</th>
                            <th class=" ks_color_th_3">Credit</th>
                            <th class=" ks_color_th_3">Balance</th>
                            <th class=" ks_color_th_4">Debit</th>
                            <th class=" ks_color_th_4">Credit</th>
                            <th class=" ks_color_th_4">Balance</th>
                        </tr>
                    </thead>
                    <tbody class="border">

                        <t t-foreach="account_data" t-as="account" t-key="account">
                            <tr class="" data-bs-toggle="collapse"
                                t-attf-data-bs-id=".a{{account_data[account]['id']}}">
                                <td class="bld ks_color_td_1" t-att-data-bs-account-id="account_data[account]['id']">
                                    <div class="dropdown">
                                        <a data-bs-toggle="dropdown" href="#">
                                            <span t-att-data-bs-account-id="account_data[account]['id']">
                                                <t t-esc="account_data[account]['code']"/>
                                                -
                                                <t t-esc="account_data[account]['name']"/>
                                            </span>
                                            <i class="fa fa-angle-down" role="img" aria-label="Unfolded"
                                               title="Unfolded"></i>

                                        </a>
                                        <span t-att-data-bs-account-id="account_data[account]['id']"></span>
                                        <ul class="dropdown-menu p-2" role="menu">
                                            <t t-if="account_data[account]['id']">
                                                <li role="presentation">
                                                    <a role="menuitem" class="ks_view-source" tabindex="-1"
                                                       action="ks_show_df_journal_items"
                                                       t-on-click="event => this.ksgetaction(event)"
                                                       t-att-data-bs-account-id="account_data[account]['id']">
                                                        Journal Items
                                                    </a>
                                                </li>
                                                <li role="presentation">
                                                    <a role="menuitem" class="ks_view-source" tabindex="1"
                                                       action="ks_show_df_general_ledger"
                                                       t-on-click="event => this.ksgetaction(event)"
                                                       t-att-data-bs-account-id="account_data[account]['id']">
                                                        General Ledger
                                                    </a>
                                                </li>
                                            </t>
                                        </ul>
                                    </div>
                                </td>
                                <td class="ks_amt ks_color_td_2">
                                    <t t-raw="account_data[account]['initial_debit']"/>
                                </td>
                                <td class="ks_amt ks_color_td_2">
                                    <t t-raw="account_data[account]['initial_credit']"/>
                                </td>
                                <td class="ks_amt bld ks_color_td_2">
                                    <t t-raw="account_data[account]['initial_balance']"/>
                                </td>
                                <td class="ks_amt ks_color_td_3">
                                    <t t-raw="account_data[account]['debit']"/>
                                </td>
                                <td class="ks_amt ks_color_td_3">
                                    <t t-raw="account_data[account]['credit']"/>
                                </td>
                                <td class="ks_amt bld ks_color_td_3">
                                    <t t-raw="account_data[account]['balance']"/>
                                </td>
                                <td class="ks_amt ks_color_td_4">
                                    <t t-raw="account_data[account]['ending_debit']"/>
                                </td>
                                <td class="ks_amt ks_color_td_4">
                                    <t t-raw="account_data[account]['ending_credit']"/>
                                </td>
                                <td class="ks_amt bld ks_color_td_4">
                                    <t t-raw="account_data[account]['ending_balance']"/>
                                </td>
                            </tr>
                        </t>
                        <t t-foreach="subtotal" t-as="account" t-key="account">
                            <tr class="ks_py-mline" data-bs-toggle="collapse"
                                t-attf-data-bs-id=".a{{subtotal[account]['id']}}"
                                t-on-click="event => this.ksGetMoveLines(event)">
                                <td class="bld">
                                    <t t-esc="subtotal[account]['name']"/>
                                </td>
                                <td class="ks_amt">
                                    <t t-raw="subtotal[account]['initial_debit']"/>
                                </td>
                                <td class="ks_amt">
                                    <t t-raw="subtotal[account]['initial_credit']"/>
                                </td>
                                <td class="ks_amt bld">
                                    <t t-raw="subtotal[account]['initial_balance']"/>
                                </td>
                                <td class="ks_amt">
                                    <t t-raw="subtotal[account]['debit']"/>
                                </td>
                                <td class="ks_amt">
                                    <t t-raw="subtotal[account]['credit']"/>
                                </td>
                                <td class="ks_amt bld">
                                    <t t-raw="subtotal[account]['balance']"/>
                                </td>
                                <td class="ks_amt">
                                    <t t-raw="subtotal[account]['ending_debit']"/>
                                </td>
                                <td class="ks_amt">
                                    <t t-raw="subtotal[account]['ending_credit']"/>
                                </td>
                                <td class="ks_amt bld">
                                    <t t-raw="subtotal[account]['ending_balance']"/>
                                </td>
                            </tr>
                        </t>
                    </tbody>
                </table>
            </div>
        </t>
        <!--        executive summary-->
        <t t-elif="props.action.xml_id == 'ks_dynamic_financial_report.ks_df_es_action'">
            <div class="container-fluid o_content  my-4">
                <table id="data-bs-lines" class="table ks_table_executive" cellspacing="0" width="100%">
                    <thead class="ks_thead">
                        <tr>
                            <th class="" colspan="1">
                                <span>Name</span>
                            </th>
                            <t t-if="props.ks_df_report_opt['ks_diff_filter']['ks_debit_credit_visibility']">
                                <th class="" colspan="1">
                                    <span>Debit</span>
                                </th>
                                <th class="" colspan="1">
                                    <span>Credit</span>
                                </th>
                            </t>

                            <t t-if="props.ks_df_report_opt['ks_diff_filter']['ks_diff_filter_enablity'] and props.ks_df_report_opt['ks_differ']['ks_intervals']">
                                <th class="" colspan="1">
                                    <span>
                                        <t t-esc="props.ks_df_report_opt['date']['ks_string']"/>
                                    </span>
                                </th>
                                <t t-foreach="props.ks_df_report_opt['ks_differ']['ks_intervals']"
                                   t-as="current_interval" t-key="current_interval_index">
                                    <th class="" colspan="1">
                                        <span>
                                            <t t-esc="current_interval['ks_string']"/>
                                        </span>
                                    </th>
                                </t>
                            </t>
                            <t t-else="">
                                <th class="" colspan="1">
                                    <span>Balance</span>
                                </th>
                            </t>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-set="es_line" t-value="props.ks_report_lines"/>
                        <t t-set="count" t-value="0"/>
                        <t t-foreach="es_line" t-as="a" t-key="count+1">
                            <t t-set="count" t-value="count+1"/>
                            <t t-if="! a['account']">
                                <t t-set="style" t-value="''"/>
                            </t>
                            <t t-if="a['account']">
                                <t t-set="style" t-value="''"/>
                            </t>
                            <t t-if="a['ks_level'] == 0">
                                <t t-set="style_td" t-value="style + ''"/>
                            </t>
                            <t t-if="a['ks_level'] == 1">
                                <t t-set="style_td"
                                   t-value="style + ''"/>
                            </t>
                            <t t-if="a['ks_level'] != 0 and a['ks_level'] != 1">
                                <t t-set="style_td" t-value="style + ''"/>
                            </t>
                            <tr t-att-style="style"
                                t-attf-class="ks_py-mline ks_level_{{a['ks_level']}} row-toggle"
                                t-on-click="event => this.ksGetMoveLines(event)">
                                <td t-att-data-bs-account-id="a['account']" t-att-style="style_td">
                                    <div class="dropdown">
                                        <t t-if="a['list_len']">
                                            <t t-set="a_count" t-value="111"/>
                                            <t t-foreach="a['list_len']" t-as="i" t-key="a_count">
                                                <t t-set="a_count" t-value="a_count+2"/>
                                                <span class="left-space"></span>
                                                <span class="left-space"></span>
                                            </t>
                                        </t>

                                        <t t-if="a['ks_df_report_account_type'] == 'account_report' and (a['account_type'] == 'ks_coa_type')">
                                            <i class="fa fa-caret-down" role="img" aria-label="Unfolded"
                                               title="Unfolded"/>
                                        </t>
                                        <a>
                                            <span t-att-data-bs-account-id="a['account']">
                                                <span t-att-style="style" t-esc="a['ks_name']"/>
                                            </span>
                                            <t t-if="a['account']">
                                                <i class="fa fa-caret-right" role="img" aria-label="Unfolded"
                                                   title="Unfolded"/>
                                            </t>
                                        </a>
                                        <span t-att-data-bs-account-id="a['account']"/>
                                        <ul class="dropdown-menu p-2" role="menu">
                                            <t t-if="a['account']">
                                                <li role="presentation">
                                                    <a role="menuitem" class="ks_view-source" tabindex="-1"
                                                       action="ks_show_df_journal_items"
                                                       t-on-click="event => self.ksgetaction(event)"
                                                       t-att-data-bs-account-id="a['account']">
                                                        Journal Items
                                                    </a>
                                                </li>
                                                <li role="presentation">
                                                    <a role="menuitem" class="ks_view-source" tabindex="1"
                                                       action="ks_show_df_general_ledger"
                                                       t-on-click="event => self.ksgetaction(event)"
                                                       t-att-data-bs-account-id="a['account']">
                                                        General Ledger
                                                    </a>
                                                </li>
                                            </t>
                                        </ul>
                                    </div>
                                </td>

                                <t t-if="props.ks_df_report_opt['ks_diff_filter']['ks_debit_credit_visibility']">
                                    <t t-if="a['debit']">
                                        <t t-foreach="a['debit']" t-as="current_interval" t-key="a">
                                            <td t-att-style="style_td" class="ks_amt">
                                                <span t-raw="a['debit'][current_interval]"/>
                                            </td>
                                        </t>
                                    </t>
                                    <t t-else="">
                                        <td t-att-style="style_td" class="ks_amt">
                                            <span>-</span>
                                        </td>
                                    </t>
                                    <t t-if="a['credit']">
                                        <t t-foreach="a['credit']" t-as="current_interval" t-key="current_interval">
                                            <td t-att-style="style_td" class="ks_amt">
                                                <span t-raw="a['credit'][current_interval]"/>
                                            </td>
                                        </t>
                                    </t>
                                    <t t-else="">
                                        <td t-att-style="style_td" class="ks_amt">
                                            <span>-</span>
                                        </td>
                                    </t>
                                </t>
                                <t t-if="a['balance']">
                                    <t t-if="a['balance']" t-foreach="a['balance']" t-as="current_interval"
                                       t-key="current_interval">
                                        <td t-att-style="style_td" class="ks_amt">
                                            <span t-raw="a['balance'][current_interval]"/>
                                        </td>
                                    </t>
                                </t>
                                <t t-else="">
                                    <td t-att-style="style_td" class="ks_amt">
                                        <span>-</span>
                                    </td>
                                </t>
                            </tr>
                        </t>
                    </tbody>
                </table>
            </div>
            <t t-if="props.showesreport">
                <div class="row ks-data-bs-summary">
                    <!--            <t t-if="ks_initial_balance or ks_current_balance or ks_ending_balance">-->
                    <div class="col-8"/>
                    <div class="col-4">
                        <table>
                            <tr>
                                <td>Initial Cash Balance</td>
                                <td>
                                    <t t-raw="props.ks_initial_balance"/>
                                </td>
                            </tr>
                            <tr>
                                <td>Current Cash Balance</td>
                                <td>
                                    <t t-raw="props.ks_current_balance"/>
                                </td>
                            </tr>
                            <tr>
                                <td>Net Cash Balance</td>
                                <td>
                                    <t t-raw="props.ks_ending_balance"/>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <!--            </t>-->
                </div>
            </t>
        </t>
        <!--        General ledger-->
        <t t-elif="props.action.xml_id == 'ks_dynamic_financial_report.ks_df_gl_action'">
            <t t-set="ks_report_lines" t-value="props.ks_report_lines"/>
            <t t-set="ks_enable_ledger_in_bal" t-value="props.ks_enable_ledger_in_bal"/>
            <div class="container-fluid o_content  my-4">
                <table id="data-bs-lines" class="table ks_table_1" cellspacing="0" width="100%">
                    <thead class="ks_thead">
                        <tr>
                            <th colspan="8">Account</th>
                            <t t-if="ks_enable_ledger_in_bal">
                                <th class="">Initial Balance</th>
                            </t>
                            <th class="">Debit</th>
                            <th class="">Credit</th>
                            <th class="">Balance</th>
                            <th class=""></th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="ks_report_lines" t-as="account" t-key="account">
                            <t t-set="common_id" t-value=""/>
                            <tr style="background:#efefef" class="ks_py-mline ks_row_first " data-bs-toggle="collapse"
                                t-att-data-bs-account-id="ks_report_lines[account]['id']"
                                t-attf-data-bs-target=".a{{ks_report_lines[account]['id']}}"
                                t-on-click="event => this.ksGetMoveLines(event)">
                                <td colspan="8">
                                    <i class="fa fa-caret-down" role="img" aria-label="Unfolded" title="Unfolded"></i>
                                    <span>
                                        <t t-esc="ks_report_lines[account]['code']"/>
                                        -
                                        <t t-esc="ks_report_lines[account]['name']"/>
                                    </span>
                                </td>
                                <t t-if="ks_enable_ledger_in_bal">
                                    <td colspan="1" class="ks_amt">
                                        <t t-raw="ks_report_lines[account]['initial_balance']"/>
                                    </td>
                                </t>
                                <td colspan="1" class="ks_amt">
                                    <t t-raw="ks_report_lines[account]['debit']"/>
                                </td>
                                <td colspan="1" class="ks_amt">
                                    <t t-raw="ks_report_lines[account]['credit']"/>
                                </td>
                                <td colspan="1" class="ks_amt">
                                    <t t-raw="ks_report_lines[account]['balance']"/>
                                </td>
                                <td colspan="1" class="ks_amt"></td>
                                <t t-set="common_id" t-value="'a'+ks_report_lines[account]['id']"/>
                            </tr>
                            <tr t-attf-class="collapse a{{ks_report_lines[account]['id']}}">
                                <td class="p-0" colspan="12">
                                    <ul class="ks_py-mline-ul m-0">
                                        <t t-if="!ks_report_lines[account]['single_page']">
                                            <t t-set="total_pages" t-value="ks_report_lines[account]['pages'].length"/>
                                            <span class="o_pager_value ks_new_text" t-esc="1"/>
                                            <span>/</span>
                                            <span>
                                                <t t-esc="total_pages"/>
                                            </span>
                                            <span offset="0" t-att-total_pages="total_pages">
                                                <button type="button"
                                                        class="fa fa-chevron-left btn ks_load_previous_new ks_py-mline-page"
                                                        t-att-data-bs-account-id="ks_report_lines[account]['id']"
                                                        title="Previous" t-on-click="(event) => this.ksGetMoveLines(event)"/>
                                                <button type="button"
                                                        class="fa fa-chevron-right btn ks_load_next_new ks_py-mline-page"
                                                        t-att-data-bs-account-id="ks_report_lines[account]['id']"
                                                        title="Next" t-on-click="(event) => this.ksGetMoveLines(event)"/>
                                            </span>
                                        </t>
                                    </ul>
                                </td>
                            </tr>

                        </t>
                    </tbody>
                </table>
            </div>
        </t>

        <!--        partner ledger-->
        <t t-elif="props.action.xml_id == 'ks_dynamic_financial_report.ks_df_pl_action'">
            <t t-set="ks_report_lines" t-value="props.ks_report_lines"/>
            <t t-set="ks_enable_ledger_in_bal" t-value="props.ks_enable_ledger_in_bal"/>
            <div class="container-fluid o_content my-3">
                <table id="data-bs-lines" class="table ks_table_1 ks_table_6 border" cellspacing="0" width="100%">
                    <thead class="ks_thead">
                        <tr>
                            <th colspan="6">Partner</th>
                            <t t-if="ks_enable_ledger_in_bal">
                                <th>Initial Balance</th>
                            </t>
                            <th class="">Debit</th>
                            <th class="">Credit</th>
                            <th class="">Balance</th>
                            <th class=""></th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="ks_report_lines" t-as="account" t-key="account">
                            <t t-set="common_id" t-value=""/>
                            <tr class="ks_pl-py-mline" data-bs-toggle="collapse"
                                t-on-click="event => this.ksGetPlMoveLines(event)"
                                t-att-data-bs-account-id="ks_report_lines[account]['id']"
                                t-attf-data-bs-target=".a{{ks_report_lines[account]['id']}}">

                                <td colspan="6">
                                    <i class="fa fa-caret-down" role="img" aria-label="Unfolded" title="Unfolded"></i>
                                    <span>
                                        <t t-esc="ks_report_lines[account]['name']"/>
                                    </span>
                                </td>
                                <t t-if="ks_enable_ledger_in_bal">
                                    <td class="ks_amt">
                                        <t t-raw="ks_report_lines[account]['initial_balance']"/>
                                    </td>
                                </t>
                                <td class="ks_amt">
                                    <t t-raw="ks_report_lines[account]['debit']"/>
                                </td>
                                <td class="ks_amt">
                                    <t t-raw="ks_report_lines[account]['credit']"/>
                                </td>
                                <td class="ks_amt">
                                    <t t-raw="ks_report_lines[account]['balance']"/>
                                </td>
                                <td class="ks_amt"></td>

                                <t t-set="common_id" t-value="'a'+ks_report_lines[account]['id']"/>

                            </tr>
                            <tr t-attf-class="collapse a{{ks_report_lines[account]['id']}}">
                                <td class="p-0" colspan="12">
                                    <ul class="ks_py-plline-ul m-0">
                                        <t t-if="!ks_report_lines[account]['single_page']">
                                            <t t-set="total_pages" t-value="ks_report_lines[account]['pages'].length"/>
                                            <span class="o_pager_value ks_new_text" t-esc="1"/>
                                            <span>/</span>
                                            <span>
                                                <t t-esc="total_pages"/>
                                            </span>
                                            <span offset="0" t-att-total_pages="total_pages">
                                                <button type="button"
                                                        class="fa fa-chevron-left btn ks_load_previous_new ks_py-plline-page"
                                                        t-att-data-bs-account-id="ks_report_lines[account]['id']"
                                                        title="Previous" t-on-click="(event) => this.ksGetPlMoveLines(event)"/>
                                                <button type="button"
                                                        class="fa fa-chevron-right btn ks_load_next_new ks_py-plline-page"
                                                        t-att-data-bs-account-id="ks_report_lines[account]['id']"
                                                        title="Next" t-on-click="(event) => this.ksGetPlMoveLines(event)"/>
                                            </span>
                                        </t>
                                    </ul>
                                </td>
                            </tr>

                        </t>
                    </tbody>
                </table>
            </div>
        </t>
        <!--        Other report-->
        <t t-else="">
            <t t-set="ks_report_lines" t-value="props.ks_report_lines"/>
            <t t-set="ks_df_report_opt" t-value="props.ks_df_report_opt"/>

            <div class="container-fluid o_content  my-4">
                <table id="data-bs-lines" class="table ks_table_1 ks_table_2" cellspacing="0" width="100%">
                    <thead class="ks_thead">
                        <tr class="ks_report_lines_row">
                            <th class="" colspan="1">
                            </th>
                            <t t-if="ks_df_report_opt['ks_diff_filter']['ks_debit_credit_visibility']">
                                <th class="" colspan="1">
                                    <span>Debit</span>
                                </th>
                                <th class="" colspan="1">
                                    <span>Credit</span>
                                </th>
                            </t>
                            <t t-if="ks_df_report_opt['ks_diff_filter']['ks_diff_filter_enablity']">
                                <t t-foreach="ks_report_lines[0]['balance_cmp']" t-as="current_interval"
                                   t-key="current_interval">
                                    <th class="" colspan="1">
                                        <span>
                                            <t t-esc="current_interval.split('comp_bal_')[1]"/>
                                        </span>
                                    </th>
                                </t>
                            </t>
                            <!--                        <t t-if="!ks_df_report_opt['ks_diff_filter']['ks_diff_filter_enablity']">-->
                            <th class="" colspan="1">
                                <span>Balance</span>
                            </th>
                            <!--                        </t>-->
                        </tr>
                    </thead>
                    <tbody>

                        <t t-set="count" t-value="0"/>
                        <t t-foreach="ks_report_lines" t-as="a" t-key="count">
                            <t t-set="count" t-value="count+1"/>
                            <t t-if="! a['account']">
                                <t t-set="style" t-value="'font-weight:bold;'"/>
                            </t>
                            <t t-if="a['account']">
                                <t t-set="style" t-value="'font-weight:normal;border:none;'"/>
                            </t>
                            <t t-if="a['ks_level'] == 0">
                                <t t-set="style_td" t-value="style + ''"/>
                            </t>
                            <t t-if="a['ks_level'] == 1">
                                <t t-set="style_td"
                                   t-value="style + ''"/>
                            </t>
                            <t t-if="a['ks_level'] != 0 and a['ks_level'] != 1">
                                <t t-set="style_td" t-value="style + ''"/>
                            </t>
                            <tr t-on-click="event => this.ksGetMoveLines(event)"
                                t-att-style="style"
                                t-attf-class="ks_py-mline ks_level_{{a['ks_level']}} row-toggle a{{a['parent']}} "
                                t-attf-data-bs-target=".a{{a['self_id']}}" data-bs-toggle="collapse">

                                <t t-if="a['account']">
                                    <td t-att-data-bs-account-id="a['account']" t-att-style="style_td">
                                        <div class="dropdown">
                                            <t t-if="a['list_len']">
                                                <t t-foreach="a['list_len']" t-as="i" t-key="i">
                                                    <span class="left-space"></span>
                                                    <span class="left-space"></span>
                                                </t>
                                            </t>

                                            <t t-if="a['ks_df_report_account_type'] == 'account_report' and (a['account_type'] == 'ks_coa_type')">
                                                <i class="fa fa-caret-down" role="img" aria-label="Unfolded"
                                                   title="Unfolded"></i>
                                            </t>
                                            <a data-bs-toggle="dropdown" href="#">
                                                <span t-att-data-bs-account-id="a['account']">

                                                    <span t-att-style="style" t-esc="a['ks_name']"/>
                                                </span>
                                                <t t-if="a['account']">
                                                    <i class="fa fa-caret-right" role="img" aria-label="Unfolded"
                                                       title="Unfolded"></i>
                                                </t>
                                            </a>
                                            <span t-att-data-bs-account-id="a['account']"></span>
                                            <t t-if="a['account']">
                                                <ul class="dropdown-menu  p-2" role="menu">
                                                    <t t-if="a['account']">
                                                        <li role="presentation">
                                                            <a role="menuitem" class="ks_view-source" tabindex="-1"
                                                               action="ks_show_df_journal_items"
                                                               t-on-click="event => this.ksgetaction(event)"
                                                               t-att-data-bs-account-id="a['account']">
                                                                Journal Items
                                                            </a>
                                                        </li>
                                                        <li role="presentation">
                                                            <a role="menuitem" class="ks_view-source" tabindex="1"
                                                               action="ks_show_df_general_ledger"
                                                               t-on-click="event => this.ksgetaction(event)"
                                                               t-att-data-bs-account-id="a['account']">
                                                                General Ledger
                                                            </a>
                                                        </li>
                                                    </t>
                                                </ul>
                                            </t>
                                        </div>
                                    </td>
                                </t>
                                <t t-else="">
                                    <td t-att-data-bs-account-id="a['account']" t-att-style="style_td">
                                        <div>
                                            <t t-if="a['list_len']">
                                                <t t-foreach="a['list_len']" t-as="i" t-key="i">
                                                    <span class="left-space"></span>
                                                    <span class="left-space"></span>
                                                </t>
                                            </t>

                                            <t t-if="a['ks_df_report_account_type'] == 'account_report' and (a['account_type'] == 'ks_coa_type')">
                                                <i class="fa fa-caret-down" role="img" aria-label="Unfolded"
                                                   title="Unfolded"></i>
                                            </t>
                                            <a>
                                                <span t-att-data-bs-account-id="a['account']">
                                                    <span t-att-style="style" t-esc="a['ks_name']"/>
                                                </span>
                                                <t t-if="a['account']">
                                                    <i class="fa fa-caret-right" role="img" aria-label="Unfolded"
                                                       title="Unfolded"></i>
                                                </t>
                                            </a>
                                            <span t-att-data-bs-account-id="a['account']"></span>
                                            <t t-if="a['account']">
                                                <ul class="dropdown-menu p-2" role="menu">
                                                    <t t-if="a['account']">
                                                        <li role="presentation">
                                                            <a role="menuitem" class="ks_view-source" tabindex="-1"
                                                               action="ks_show_df_journal_items"
                                                               t-on-click="event => this.ksgetaction(event)"
                                                               t-att-data-bs-account-id="a['account']">
                                                                Journal Items
                                                            </a>
                                                        </li>
                                                        <li role="presentation">
                                                            <a role="menuitem" class="ks_view-source" tabindex="1"
                                                               action="ks_show_df_general_ledger"
                                                               t-on-click="event => this.ksgetaction(event)"
                                                               t-att-data-bs-account-id="a['account']">
                                                                General Ledger
                                                            </a>
                                                        </li>
                                                    </t>
                                                </ul>
                                            </t>
                                        </div>
                                    </td>
                                </t>
                                <t t-if="ks_df_report_opt['ks_diff_filter']['ks_debit_credit_visibility']">
                                    <!--                                <td t-att-style="style_td" class="ks_amt">-->
                                    <!--                                    <span t-raw="a['account']"/>-->
                                    <!--                                </td>-->
                                    <!--                                <td t-att-style="style_td" class="ks_amt">-->
                                    <!--                                    <span t-raw="a['ks_name']"/>-->
                                    <!--                                </td>-->
                                    <td t-att-style="style_td" class="ks_amt">
                                        <span t-raw="a['debit']"/>
                                    </td>
                                    <td t-att-style="style_td" class="ks_amt">
                                        <span t-raw="a['credit']"/>
                                    </td>
                                </t>
                                <t t-if="ks_df_report_opt['ks_diff_filter']['ks_diff_filter_enablity']">
                                    <t t-foreach="a['balance_cmp']" t-as="current_interval" t-key="current_interval">
                                        <td t-att-style="style_td" class="ks_amt">
                                            <span t-raw="a['balance_cmp'][current_interval]"/>
                                        </td>
                                    </t>
                                </t>
                                <td t-att-style="style_td" class="ks_amt">
                                    <t t-att-style="style_td" t-raw="a['balance']"/>
                                </td>
                            </tr>
                        </t>
                    </tbody>
                </table>
            </div>
            <t t-if="props.showgenreport">
                <t t-set="ks_initial_balance" t-value="props.ks_initial_balance"/>
                <t t-set="ks_current_balance" t-value="props.ks_current_balance"/>
                <t t-set="ks_ending_balance" t-value="props.ks_ending_balance"/>
                <div class="row ks-data-bs-summary">
                    <!--            <t t-if="ks_initial_balance or ks_current_balance or ks_ending_balance">-->
                    <div class="col-8"/>
                    <div class="col-4">
                        <table>
                            <tr>
                                <td>Initial Cash Balance</td>
                                <td>
                                    <t t-raw="ks_initial_balance"/>
                                </td>
                            </tr>
                            <tr>
                                <td>Current Cash Balance</td>
                                <td>
                                    <t t-raw="ks_current_balance"/>
                                </td>
                            </tr>
                            <tr>
                                <td>Net Cash Balance</td>
                                <td>
                                    <t t-raw="ks_ending_balance"/>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <!--            </t>-->
                </div>
            </t>
        </t>


    </t>


    <t t-name="ks_report_filters" owl="1">
        <div class="gap-1 d-flex">
            <t t-if="ks_df_informations['ks_title']=='Partner Ledger' || ks_df_informations['ks_title']=='General Ledger' || new_ks_df_reports_ids=='Age Receivable' || new_ks_df_reports_ids=='Age Payable'">
                <t t-call="pager_buttons"/>
            </t>
            <t t-if="ks_df_informations['ks_intervals']">
                <t t-call="ks_searchview_date_filter"/>
            </t>
            <t t-if="ks_df_informations['ks_differentiation']">
                <t t-call="ks_searchview_differentiate_filter"/>
            </t>
            <t t-if="ks_df_informations['ks_journal_filter_visiblity']">
                <t t-call="ks_searchview_journals_filter"/>
            </t>
            <t t-if="ks_df_informations['ks_partner_filter']">
                <t t-call="ks_searchview_partner_filter"/>
            </t>
            <t t-if="ks_df_informations['ks_partner_account_type_filter']">
                <t t-call="ks_searchview_account_filter"/>
            </t>
            <t t-if="ks_df_informations['ks_analytic_account_visibility']">
                <t t-call="ks_searchview_analytic_filter"/>
            </t>
            <t t-if="ks_df_informations['ks_account_filter_visiblity']">
                <t t-call="ks_searchview_extra_ks_account_information"/>
            </t>
            <t t-call="ks_searchview_extra_ks_df_informations"/>
        </div>

    </t>

    <t t-name="pager_buttons">
        <div class="ks_pager">
            <span class="ks_counter">
                <span class="ks_value">
                    <t t-esc="state.offset_dict['count']"/>
                </span>
            </span>
            <span class="btn-group" aria-atomic="true" t-att-data-next_offset="state.offset_dict['next_offset']"
                  t-att-data-prev-offset="state.offset_dict['offset']">

                <button type="button"
                        class="fa fa-chevron-left btn  ks_load_previous ks_event_offer_list "
                        t-att-data-item-id="item_id" title="Previous"
                t-on-click="(event) => this.ksLoadPreviousRecords(event)" />
                <button type="button" class="fa fa-chevron-right btn  ks_load_next "
                        t-att-data-item-id="item_id" title="Next"
                t-on-click="(event) => this.ksLoadMoreRecords(event)"/>


            </span>
        </div>
    </t>

    <t t-name="ks_searchview_extra_ks_account_information">
        <Dropdown togglerClass="'btn btn-secondary'">
            <t t-set-slot="toggler">
                <i class="fa fa-book"/>
                Account
                <t t-set="selected_account"
                   t-value="ks_df_informations['account'].filter(account => account.selected).map(account => account.name).join(', ')"/>
                <t t-if="selected_account">
                    <t t-esc="selected_account"/>
                </t>
            </t>

            <t t-if="ks_df_informations.ks_account_enable">
                <!--                <div class="dropdown-menu o_filter_menu p-3 ks_d_block" role="menu"-->
                <!--                     style="height: auto;max-height: 300px; overflow-x: hidden;">-->
                <input type="text" placeholder="Search.." class="ks_input"/>
                <t t-foreach="ks_df_informations['account']" t-as="a" t-key="a_index">
                    <!--                        data-bs-id="a.id" data-bs-filter="account"-->
                    <DropdownItem class="{'selected': a.selected,  'js_account_report_choice_filter': true}"
                                  onSelected="()=>this.js_account_report_choice_filter(a.id,'account')">
                        <t t-esc="a.name"/>
                    </DropdownItem>
                </t>
                <!--                </div>-->
            </t>

            <t t-else="">
                <!--                <div class="dropdown-menu o_filter_menu p-3" role="menu"-->
                <!--                     style="height: auto;max-height: 300px; overflow-x: hidden;">-->
                    <input type="text" placeholder="Search.." class="ks_input" t-on-keyup="()=>this.onKsSearchFilter()"/>
                <t t-foreach="ks_df_informations['account']" t-as="a" t-key="a_index">
                    <!--                        data-bs-id="a.id" data-bs-filter="account"-->
                    <DropdownItem class="{'selected': a.selected, 'js_account_report_choice_filter': true}"
                                  onSelected="()=>this.js_account_report_choice_filter(a.id,'account')">
                        <t t-esc="a.name"/>
                    </DropdownItem>
                </t>
                <!--                </div>-->
            </t>

        </Dropdown>

    </t>

    <t t-name="ks_searchview_extra_ks_df_informations">
        <Dropdown togglerClass="'btn btn-secondary'">
            <t t-set-slot="toggler">
                <span class="fa fa-filter"/>
                Options:
                <t t-if="ks_df_informations.ks_posted_entries !== undefined">
                    <t t-if="ks_df_informations.ks_posted_entries || ks_df_informations.ks_unposted_entries">
                        <t t-if="ks_df_informations.ks_posted_entries &amp;&amp; !ks_df_informations.ks_unposted_entries">
                            <t>Posted Entries</t>
                        </t>
                        <t t-if="ks_df_informations.ks_unposted_entries &amp;&amp; !ks_df_informations.ks_posted_entries">
                            <t>Draft Entries</t>
                        </t>
                    </t>
                    <t t-if="ks_df_informations.ks_posted_entries &amp;&amp; ks_df_informations.ks_unposted_entries">
                        <t>Posted Entries,Draft Entries</t>
                    </t>
                </t>
            </t>

            <t t-if="ks_df_informations.ks_option_enable">
                <!--data-bs-filter="ks_posted_entries"-->

                <DropdownItem class="{'selected': ks_df_informations.ks_posted_entries}"
                              t-if="ks_df_informations.ks_posted_entries != Undefined"
                              onSelected="() => this.OnClickDate('ks_posted_entries')"
                >Posted Entries
                </DropdownItem>
                <!--data-bs-filter="ks_unposted_entries"-->
                <DropdownItem class="{'selected': ks_df_informations.ks_unposted_entries}"
                              onSelected="() => this.OnClickDate('ks_unposted_entries')"
                              t-if="ks_df_informations.ks_unposted_entries != Undefined"
                >UnPosted Entries(Draft)
                </DropdownItem>
                <!--data-bs-filter="ks_reconciled"-->
                <DropdownItem class="{'selected': new_ks_df_reports_ids=='Partner Ledger'}"
                              onSelected="() => this.OnClickDate('ks_reconciled')"
                              t-if="new_ks_df_reports_ids=='Partner Ledger'">Show
                    reconciled Entriess
                </DropdownItem>
                <!--data-bs-filter="ks_unreconciled"-->
                <DropdownItem class="{'selected': new_ks_df_reports_ids=='Partner Ledger'}"
                              onSelected="() => this.OnClickDate('ks_unreconciled')"
                              t-if="new_ks_df_reports_ids=='Partner Ledger'">Show
                    Unreconciled Entries
                </DropdownItem>

                <!--data-bs-filter="ks_comparison_range"-->
                <DropdownItem onSelected="() => this.OnClickDate('ks_comparison_range')"
                              t-if="!['Age Receivable', 'Age Payable'].includes(new_ks_df_reports_ids)"
                >To change date range
                </DropdownItem>
                <!--                data-bs-filter="ks_report_with_lines"-->
                <DropdownItem class="{'selected': ks_df_informations.print_detailed_view}"
                              onSelected="() => this.OnClickDate('ks_report_with_lines')"
                              t-if="!['Balance Sheet', 'Profit and Loss', 'Cash Flow Statement', 'Executive Summary', 'Tax Report', 'Trial Balance'].includes(new_ks_df_reports_ids)">
                    To Print Report With Details
                </DropdownItem>
            </t>
            <t t-else="">
                <!--                data-bs-filter="ks_posted_entries"-->
                <DropdownItem class="{'selected': ks_df_informations.ks_posted_entries}"
                              t-if="ks_df_informations.ks_posted_entries != Undefined"
                              onSelected="() => this.OnClickDate('ks_posted_entries')"
                >Posted Entries
                </DropdownItem>
                <!--                data-bs-filter="ks_unposted_entries"-->
                <DropdownItem class="{'selected': ks_df_informations.ks_unposted_entries}"
                              onSelected="() => this.OnClickDate('ks_unposted_entries')"
                              t-if="ks_df_informations.ks_unposted_entries != Undefined"
                >UnPosted Entries(Draft)
                </DropdownItem>
                <!--data-bs-filter="ks_reconciled"-->
                <DropdownItem class="{'selected': ks_df_informations.ks_reconciled == 1}"
                                onSelected="() => this.OnClickDate('ks_reconciled')"
                              t-if="new_ks_df_reports_ids=='Partner Ledger'">Show
                    reconciled Entries
                </DropdownItem>
                <!--                data-bs-filter="ks_unreconciled"-->
                <DropdownItem class="{'selected': ks_df_informations.ks_unreconciled == 1}"
                                onSelected="() => this.OnClickDate('ks_unreconciled')"
                              t-if="new_ks_df_reports_ids=='Partner Ledger'">Show
                    Unreconciled Entries
                </DropdownItem>
                <!--                data-bs-filter="ks_comparison_range"-->
                <DropdownItem class="{'selected': ks_df_informations.ks_comparison_range == 1}"
                        onSelected="() => this.OnClickDate('ks_comparison_range')"
                              t-if="!['Age Receivable', 'Age Payable'].includes(new_ks_df_reports_ids)"
                >To change date range
                </DropdownItem>
                <!--                data-bs-filter="ks_report_with_lines"-->

                <DropdownItem class="{'selected': ks_df_informations.print_detailed_view}"
                              onSelected="() => this.OnClickDate('ks_report_with_lines')"
                              t-if="!['Balance Sheet', 'Profit and Loss', 'Cash Flow Statement', 'Executive Summary', 'Tax Report', 'Trial Balance'].includes(new_ks_df_reports_ids)">
                    To Print Report With Details
                </DropdownItem>
            </t>
        </Dropdown>
    </t>
    <t t-name="ks_searchview_account_filter">
        <Dropdown togglerClass="'btn btn-secondary'">
            <t t-set-slot="toggler">
                <span class="fa fa-user"/>
                Account:
                <t t-set="account_value">Both</t>
                <t t-foreach="props.ks_master_value.ks_df_informations.account_type" t-as="a" t-key="a_index">
                    <t t-if="a.selected == true">
                        <t t-set="account_value" t-value="''"/>
                        <t t-esc="a.name"/>
                    </t>
                </t>
                <t t-esc="account_value"/>
            </t>

            <t t-if="ks_df_informations['ks_account_both_enable']">
                <t t-foreach="ks_df_informations['account_type']" t-as="a" t-key="a['name']">
                    <!--                        title="a['name']" data-bs-id="a['id']" data-bs-filter="account_type"-->
                    <DropdownItem class="{'selected': a.selected}"
                                  onSelected="()=>this.js_account_report_choice_filter(a.id,'account_type')">
                        <t t-esc="a['name']"/>
                    </DropdownItem>
                </t>
            </t>
            <t t-else="">
                <t t-foreach="ks_df_informations['account_type']" t-as="a" t-key="a_index">
                    <!--                        title="a['name']" data-bs-id="a['id']" data-bs-filter="account_type"-->
                    <DropdownItem class="{'selected': a.selected}"
                                  onSelected="()=>this.js_account_report_choice_filter(a.id,'account_type')">
                        <t t-esc="a['name']"/>
                    </DropdownItem>
                </t>
            </t>
        </Dropdown>
    </t>

    <t t-name="ks_searchview_analytic_filter">
        <Dropdown togglerClass="'btn btn-secondary'">
            <t t-set-slot="toggler">
                <span class="fa fa-folder-open"/>
                Analytic
            </t>
            <div class="dropdown-item">
                <label>Analytic Account</label>
                <MultiRecordSelector
                        t-props="getMultiRecordSelectoraccount('account.analytic.account', 'analytic_accounts')"/>
            </div>
            <!--            <ul class="dropdown-menu o_filter_menu p-3" role="menu">-->
            <!--                <li class="o_account_report_search js_account_analytic_m2m"/>-->
            <!--            </ul>-->
        </Dropdown>
    </t>

    <t t-name="ks_searchview_partner_filter">
        <Dropdown t-if="ks_df_informations['ks_partner']" togglerClass="'btn btn-secondary'"
        >
            <t t-set-slot="toggler">
                <span class="fa fa-folder-open"/>
                Partners
            </t>
            <div class="dropdown-item">
                <label>Partners</label>
                <MultiRecordSelector t-props="getMultiRecordSelectorProps('res.partner', 'partner_ids')"/>
            </div>
        </Dropdown>

    </t>

    <t t-name="ks_searchview_journals_filter" owl="1">
        <Dropdown togglerClass="'btn btn-secondary'">
            <t t-set-slot="toggler">
                <i class="fa fa-book"/>journals
                <t t-set="selected_journals"
                   t-value="ks_df_informations['name_journal_group'] || ks_df_informations['journals'].filter(journal => journal['selected']).map(journal => journal['code']).join(', ')"/>
                <t t-if="selected_journals">
                    <t t-esc="selected_journals"/>
                </t>
                <t t-else="">
                    All
                </t>
            </t>
            <t t-if="ks_df_informations['ks_journal_enable']">
                <t t-foreach="ks_df_informations['journals']" t-as="j" t-key="j_index">
                    <t t-if="j['id'] == 'divider'">
                        <div role="separator" class="dropdown-divider"/>
                        <DropdownItem>
                            <b>
                                <t t-esc="j['name']"/>
                            </b>
                        </DropdownItem>
                        <div role="separator" class="dropdown-divider"/>
                    </t>
                    <t t-if="j['id'] != 'divider'">
                        <t t-if="j['id'] == 'group'">
                            <!--                            data-bs-filter="journals" data-bs-id="j['id']"-->
                            <!--                                    data-bs-member-ids="j['ids']"-->
                            <DropdownItem class="{'selected': j.selected}"
                                          onSelected="()=>this.js_account_report_group_choice_filter('journals',j.ids)">
                                <t t-esc="j['name']"/>
                            </DropdownItem>
                        </t>
                        <t t-else="">
                            <!--                            title="j['name']+ '-' + j['code']" data-bs-id="j['id']"-->
                            <!--                                    data-bs-filter="journals"-->
                            <DropdownItem class="{'selected': j.selected}"
                                          onSelected="()=>this.js_account_report_choice_filter(j.id,'journals')">
                                <t t-esc="j['name']"/>
                            </DropdownItem>
                        </t>
                    </t>
                </t>
            </t>
            <t t-else="">
                <t t-foreach="ks_df_informations['journals']" t-as="j" t-key="j_index">
                    <t t-if="j['id'] == 'divider'">
                        <div role="separator" class="dropdown-divider"/>
                        <DropdownItem>
                            <b>
                                <t t-esc="j['name']"/>
                            </b>
                        </DropdownItem>
                        <div role="separator" class="dropdown-divider"/>
                    </t>
                    <t t-if="j['id'] != 'divider'">
                        <t t-if="j['id'] == 'group'">
                            <!--                            data-bs-filter="journals" data-bs-id="j['id']"-->
                            <!--                                    data-bs-member-ids="j['ids']"-->
                            <DropdownItem class="{'selected': j.selected}"
                                          onSelected="()=>this.js_account_report_group_choice_filter('journals',j.ids)"
                            >
                                <t t-esc="j['name']"/>
                            </DropdownItem>
                        </t>
                        <t t-else="">
                            <!--                            title="j['name']+ '-' + j['code']" data-bs-id="j['id']"-->
                            <!--                                    data-bs-filter="journals"-->
                            <DropdownItem class="{'selected': j.selected}"
                                          onSelected="()=>this.js_account_report_choice_filter(j.id,'journals')"
                            >
                                <t t-esc="j['name']"/>
                            </DropdownItem>
                        </t>
                    </t>
                </t>
            </t>
        </Dropdown>
    </t>

    <t t-name="ks_df_sub_receivable0" owl="1">
        <div class="ks_py-mline-table-div">
            <table class="table">
                <thead class="ks_thead">
                    <tr>
                        <th>Entry Label</th>
                        <th>Due Date</th>
                        <th>Journal</th>
                        <th>Account</th>
                        <t t-foreach="period_list" t-as="period" t-key="period_index">
                            <th class="">
                                <t t-esc="period"/>
                            </th>
                        </t>
                    </tr>
                </thead>
                <tbody>
                    <t t-if="account_data">
                        <t t-foreach="account_data" t-as="account_line" t-key="account_line_index">
                            <tr t-att-data-bs-move-id="account_line.move_id">
                                <t t-if="account_line.move_name">
                                    <td>
                                        <div class="dropdown">
                                            <a data-bs-toggle="dropdown" href="#">
                                                <span t-att-data-bs-move-id="account_line.move_id">
                                                    <t t-esc="account_line.move_name"/>
                                                </span>
                                                <i class="fa fa-caret-down" role="img" aria-label="Unfolded"
                                                   title="Unfolded"></i>
                                            </a>
                                            <span t-att-data-bs-move-id="account_line.move_id"></span>
                                            <ul class="dropdown-menu" role="menu">
                                                <t t-if="account_line.move_name">
                                                    <li role="presentation">
                                                        <a role="menuitem" class="ks_view-source" tabindex="-1"
                                                           action="ks_df_show_move_line"
                                                           t-on-click="event => self.ksgetaction(event)"
                                                           t-att-data-bs-move-id="account_line.move_id">
                                                            Move line
                                                        </a>
                                                    </li>
                                                </t>
                                            </ul>
                                        </div>
                                    </td>
                                </t>
                                <td>
                                    <t t-esc="account_line.date_maturity"/>
                                </td>
                                <td>
                                    <t t-esc="account_line.journal_name[lang]"/>
                                </td>
                                <td>
                                    <t t-esc="account_line.account_name[lang]"/>
                                </td>
                                <td class="ks_amt">
                                    <t t-raw="account_line.range_0"/>
                                </td>
                                <td class="ks_amt">
                                    <t t-raw="account_line.range_1"/>
                                </td>
                                <td class="ks_amt">
                                    <t t-raw="account_line.range_2"/>
                                </td>
                                <td class="ks_amt">
                                    <t t-raw="account_line.range_3"/>
                                </td>
                                <td class="ks_amt">
                                    <t t-raw="account_line.range_4"/>
                                </td>
                                <td class="ks_amt">
                                    <t t-raw="account_line.range_5"/>
                                </td>
                                <td class="ks_amt">
                                    <t t-raw="account_line.range_6"/>
                                </td>
                            </tr>
                        </t>
                    </t>
                </tbody>
            </table>
        </div>
    </t>
    <t t-name="ks_searchview_date_filter" owl="1">

        <Dropdown togglerClass="'btn btn-secondary'">
            <t t-set="ks_df_informations" t-value="props.ks_master_value.ks_df_informations"/>
            <t t-set-slot="toggler">
                <i class="fa fa-calendar me-1"/>
                <t t-if="ks_df_informations['date']['ks_string'] and ks_df_informations['date']['ks_filter'] != 'custom'">
                    <t t-esc="ks_df_informations['date']['ks_string']"/>
                </t>
                <t t-if="ks_df_informations['date']['ks_filter'] == 'custom'">
                    <t t-if="ks_df_informations['date']['ks_process'] == 'single'">Date:
                        <span class="js_format_date">
                            <t t-esc="ks_df_informations['date']['ks_end_date']"/>
                        </span>
                    </t>
                    <t t-if="ks_df_informations['date']['ks_process'] == 'range'">From:
                        <span class="js_format_date">
                            <t t-esc="ks_df_informations['date']['ks_start_date']"/>
                        </span>
                        <br/>
                        <span class="o_reports_date_to">to:
                            <span class="js_format_date">
                                <t t-esc="ks_df_informations['date']['ks_end_date']"/>
                            </span>
                        </span>
                    </t>
                </t>
            </t>
            <t t-if="ks_df_informations['date']['ks_process'] == 'single'">
                <DropdownItem class="{'selected': (ks_df_informations.date.ks_filter == 'today')}"
                              onSelected="() => this.updateFilter('today')">
                    Today
                </DropdownItem>
                <DropdownItem class="{'selected': (ks_df_informations.date.ks_filter == 'last_month') }"
                              onSelected="() => this.updateFilter('last_month')">
                    End of Last Month
                </DropdownItem>
                <DropdownItem class="{'selected': (ks_df_informations.date.ks_filter == 'last_quarter') }"
                              onSelected="() => this.updateFilter('last_quarter')">
                    End of Last Quarter
                </DropdownItem>
                <DropdownItem class="{'selected': (ks_df_informations.date.ks_filter == 'last_year') }"
                              onSelected="() => this.updateFilter('last_year')">
                    End of Last Financial Year
                </DropdownItem>
            </t>
            <t t-if="ks_df_informations['date']['ks_process'] == 'range'">
                <DropdownItem class="{'selected': (ks_df_informations.date.ks_filter == 'this_month') }"
                              onSelected="() => this.updateFilter('this_month')">
                    This Month
                </DropdownItem>

                <DropdownItem class="{'selected': (ks_df_informations.date.ks_filter == 'this_quarter') }"
                              onSelected="() => this.updateFilter('this_quarter')">
                    This Quarter
                </DropdownItem>

                <DropdownItem class="{'selected': (ks_df_informations.date.ks_filter == 'this_year') }"
                              onSelected="() => this.updateFilter('this_year')">This Financial Year
                </DropdownItem>
                <div role="separator" class="dropdown-divider"></div>
                <DropdownItem class="{'selected': (ks_df_informations.date.ks_filter == 'last_month') }"
                              onSelected="() => this.updateFilter('last_month')">Last Month
                </DropdownItem>

                <DropdownItem class="{'selected': (ks_df_informations.date.ks_filter == 'last_quarter') }"
                              onSelected="() => this.updateFilter('last_quarter')">Last Quarter
                </DropdownItem>

                <DropdownItem class="{'selected': (ks_df_informations.date.ks_filter == 'last_year') }"
                              onSelected="() => this.updateFilter('last_year')">Last Financial Year
                </DropdownItem>

            </t>
            <div role="separator" class="dropdown-divider"></div>

            <div class="dropdown-item date"
                 t-att-class="(ks_df_informations['date']['ks_process'] == 'custom') ? 'selected' : ''">
                <t t-if="ks_df_report_opt['ks_comparison_range']== 1">
                    <label class="d-flex align-items-center">
                        Start Date:
                    </label>
                    <DateTimeInput value="typeof props.ks_start_date === 'string' ? null : props.ks_start_date" type="'date'"
                                   onChange="(date) => this.onDateTimeChangedStartDate(date)"/>
                </t>
                <label class="d-flex align-items-center">
                    End Date:
                </label>
                <DateTimeInput value="typeof props.ks_end_date === 'string' ? null : props.ks_end_date" type="'date'"
                               onChange="(date) => this.onDateTimeChanged(date)"/>
                  <DropdownItem>
                <button class="btn btn-sm btn-primary mt-2" t-on-click="() => this.updateFilter('custom')">
                    Apply
                </button>
                </DropdownItem>
            </div>
        </Dropdown>
    </t>

    <t t-name="ks_searchview_differentiate_filter" owl="1">
        <Dropdown togglerClass="'btn btn-secondary'">
            <t t-set-slot="toggler">
                <span class="fa fa-bar-chart"/>
                Differentiate:
                <t t-if="ks_df_informations['ks_differ']['string'] and ks_df_informations['ks_differ']['ks_differentiate_filter'] != 'custom'">
                    <t t-esc="ks_df_informations['ks_differ']['string']"/>
                </t>
                <t t-if="ks_df_informations['ks_differ']['ks_differentiate_filter'] == 'custom'">
                    <t t-if="ks_df_informations['date']['ks_process'] == 'range'">
                        <span class="o_reports_date_to">
                            <span class="js_format_date">
                                <t t-esc="ks_df_informations['ks_differ']['ks_start_date']"/>
                            </span>
                        </span>
                        <span class="o_reports_date_to">-
                            <span class="js_format_date">
                                <t t-esc="ks_df_informations['ks_differ']['ks_end_date']"/>
                            </span>
                        </span>
                    </t>
                    <t t-if="ks_df_informations['date']['ks_process'] == 'single'">Date:
                        <span class="js_format_date">
                            <t t-esc="ks_df_informations['ks_differ']['ks_end_date']"/>
                        </span>
                    </t>
                </t>
                -
            </t>
            <DropdownItem class="{'selected': ks_df_informations['ks_diff_filter']['ks_diff_filter_enablity']!=1}"
                          onSelected="() => this.OnChangeComp('no_differentiation')">No Comparison
            </DropdownItem>
            <!--            data-bs-filter="no_differentiation"-->
            <div role="separator" class="dropdown-divider"/>
            <div class="dropdown-item date"
                 data-bs-filter='earlier_interval_filter'>
                <label for="periods_number">Number of Previous periods :</label>
                <input type="number" name="periods_number" value="0"/>
                <DropdownItem>
                <button type="button" class="btn-sm btn btn-primary js_account_report_date_cmp_filter"
                        data-bs-filter='earlier_interval' t-on-click="() => this.OnChangeComp('earlier_interval')">Apply
                </button>
                </DropdownItem>
            </div>
            <div role="separator" class="dropdown-divider"></div>

            <div class="dropdown-item date" data-bs-filter='custom_cmp_filter'>
                <t>
                    <label class="d-flex align-items-center">Start Date :</label>
                    <DateTimeInput value="typeof props.date_from_cmp === 'string' ? null : props.date_from_cmp"
                                   type="'date'" onChange="(date) => this.fdate_from_cmp(date)"
                    />
                </t>
                <label class="d-flex align-items-center">End Date :
                </label>
                <DateTimeInput value="typeof props.date_to_cmp === 'string' ? null : props.date_to_cmp"
                               type="'date'" onChange="(date) => this.fdate_to_cmp(date)"
                />
                <DropdownItem>
                <button type="button" class="btn btn-sm btn-primary js_account_report_date_cmp_filter"
                        data-bs-filter='custom' t-on-click="() => this.OnChangeComp('custom')">Apply
                </button>
                </DropdownItem>
            </div>

        </Dropdown>
    </t>


    <t t-name="ks_df_cj_subsection">
        <div class="ks_py-mline-table-div">
            <table class="ks-mline-data-bs-table border display compact">
                <thead class="ks_thead">
                    <tr>
                        <th colspan="12">Account Name</th>
                        <th class="">Debit</th>
                        <th class="">Credit</th>
                        <th colspan="2" class="">Balance</th>
                    </tr>
                </thead>
                <tbody>
                    <t t-foreach="account_data" t-as="account_line" t-key="account_line_index">
                        <t t-set="style" t-value="''"/>
                        <tr>
                            <td colspan="12" t-att-data-bs-move-id="account_line.id">
                                <t t-if="account_line.name">
                                    <div class="dropdown">
                                        <a data-bs-toggle="dropdown" href="#">
                                            <span t-att-data-bs-move-id="account_line.id">
                                                <t t-esc="account_line.name"/>
                                            </span>
                                            <i class="fa fa-caret-down" role="img" aria-label="Unfolded"
                                               title="Unfolded"/>
                                        </a>
                                        <span t-att-data-bs-move-id="account_line.id"/>
                                        <t t-if="account_line.name">
                                            <ul class="dropdown-menu p-2" role="menu">
                                                <li role="presentation">
                                                    <a role="menuitem" class="ks_ks_view-source" tabindex="-1"
                                                       action="ks_show_df_journal_items"
                                                       t-on-click="event => self.ksgetaction(event)"
                                                       t-att-data-bs-account-id="account_line.id">
                                                        Journal Items
                                                    </a>
                                                </li>
                                                <li role="presentation">
                                                    <a role="menuitem" class="ks_ks_view-source" tabindex="1"
                                                       action="ks_show_df_general_ledger"
                                                       t-on-click="event => self.ksgetaction(event)"
                                                       t-att-data-bs-account-id="account_line.id">

                                                        General Ledger
                                                    </a>
                                                </li>
                                            </ul>
                                        </t>
                                    </div>
                                </t>
                            </td>

                            <td t-att-style="style" class="ks_amt">
                                <t t-raw="account_line.debit"/>
                            </td>
                            <td t-att-style="style" class="ks_amt">
                                <t t-raw="account_line.credit"/>
                            </td>
                            <td t-att-style="style" class="ks_amt">
                                <t t-raw="account_line.balance"/>
                            </td>
                            <td t-att-style="style" class="ks_amt">
                                <t t-if="account_line['currency_symbol'] != account_line['company_currency_symbol']">
                                    <t t-if="account_line['currency_position'] == 'before'">
                                        <span t-esc="account_line['currency_symbol']"/>
                                        <span t-esc="account_line['amount_currency']"/>
                                    </t>
                                    <t t-if="account_line['currency_position'] == 'after'">
                                        <span t-esc="account_line['amount_currency']"/>
                                        <span t-esc="account_line['currency_symbol']"/>
                                    </t>
                                </t>
                            </td>
                        </tr>
                    </t>
                </tbody>
            </table>
        </div>
    </t>


    <t t-name="ks_df_gl_subsection">
        <div class="ks_py-mline-table-div">
            <table class="table border ks_table_2">
                <thead class="ks_thead">
                    <tr>
                        <th>Date</th>
                        <th>JRNL</th>
                        <th>Partner</th>
                        <th>Move</th>
                        <th>Entry Label</th>
                        <t t-if="ks_enable_ledger_in_bal">
                            <th class="">Initial Balance</th>
                        </t>
                        <th class="">Debit</th>
                        <th class="">Credit</th>
                        <th class="">Balance</th>
                        <th class="">Balance in FC</th>
                    </tr>
                </thead>
                <tbody>
                    <t t-foreach="account_data" t-as="account_line" t-key="account_line_index">
                        <t t-set="style" t-value="''"/>
                        <t t-if="account_line.move_name == 'Initial Balance'">
                            <t t-set="style" t-value="'font-style: italic;'"/>
                        </t>
                        <t t-if="account_line.move_name == 'Ending Balance'">
                            <t t-set="style" t-value="'font-style: italic;'"/>
                        </t>
                        <tr class="border-bottom">
                            <td t-att-data-bs-move-id="account_line.move_id">
                                <t t-if="account_line.ldate">
                                    <div class="dropdown">
                                        <a data-bs-toggle="dropdown" href="#">
                                            <span t-att-data-bs-move-id="account_line.move_id">
                                                <t t-esc="account_line.ldate"/>
                                            </span>
                                            <i class="fa fa-caret-down" role="img" aria-label="Unfolded"
                                               title="Unfolded"/>
                                        </a>
                                        <span t-att-data-bs-move-id="account_line.move_id"/>
                                        <ul class="dropdown-menu p-2" role="menu">
                                            <t t-if="account_line.move_name">
                                                <li role="presentation">
                                                    <a role="menuitem" class="ks_view-source" tabindex="-1"
                                                       action="ks_df_show_move_line"
                                                       t-on-click="event => self.ksgetaction(event)"
                                                       t-att-data-bs-move-id="account_line.move_id">
                                                        Move Line
                                                    </a>
                                                </li>
                                            </t>
                                        </ul>
                                    </div>
                                </t>
                            </td>
                            <td>
                                <t t-esc="account_line.lcode"/>
                            </td>
                            <td>
                                <t t-esc="account_line.partner_name"/>
                            </td>
                            <td t-att-style="style">
                                <t t-esc="account_line.move_name"/>
                            </td>
                            <td t-att-style="style">
                                <t t-esc="account_line.lname"/>
                            </td>
                            <t t-if="ks_enable_ledger_in_bal">
                                <td t-att-style="style" class="ks_amt">
                                    <t t-raw="account_line.initial_balance"/>
                                    <!--                                    <span>-&#45;&#45;</span>-->
                                </td>
                            </t>
                            <td t-att-style="style" class="ks_amt">
                                <t t-raw="account_line.debit"/>
                            </td>
                            <td t-att-style="style" class="ks_amt">
                                <t t-raw="account_line.credit"/>
                            </td>
                            <td t-att-style="style" class="ks_amt">
                                <t t-raw="account_line.balance"/>
                            </td>
                            <td t-att-style="style" class="ks_amt">
                                <t t-if="account_line['currency_symbol'] != account_line['company_currency_symbol']">
                                    <t t-if="account_line['currency_position'] == 'before'">
                                        <span t-esc="account_line['currency_symbol']"/>
                                        <span t-esc="account_line['amount_currency']"/>
                                    </t>
                                    <t t-if="account_line['currency_position'] == 'after'">
                                        <span t-esc="account_line['amount_currency']"/>
                                        <span t-esc="account_line['currency_symbol']"/>
                                    </t>
                                </t>
                            </td>
                        </tr>
                    </t>
                </tbody>
            </table>
        </div>
    </t>


    <t t-name="ks_df_sub_pl0" owl="1">
        <div class="ks_py-mline-table-div ">
            <table class="table">
                <thead class="ks_thead">
                    <tr>
                        <th>Date</th>
                        <th>JRNL</th>
                        <th>Account</th>
                        <th>Move</th>
                        <th>Entry Label</th>
                        <t t-if="ks_enable_ledger_in_bal">
                            <th class="">Initial Balance</th>
                        </t>

                        <th class="">Debit</th>
                        <th class="">Credit</th>
                        <th class="">Balance</th>
                        <th width="10%" class="">Balance in FC</th>
                    </tr>
                </thead>
                <tbody>
                    <t t-foreach="account_data" t-as="account_line" t-key="account_line_index">
                        <t t-set="style" t-value="''"/>
                        <t t-if="account_line.move_name == 'Initial Balance'">
                            <t t-set="style" t-value="'font-style: italic;'"/>
                        </t>
                        <t t-if="account_line.move_name == 'Ending Balance'">
                            <t t-set="style" t-value="'font-style: italic;'"/>
                        </t>
                        <tr>
                            <td t-att-data-bs-move-id="account_line.move_id">
                                <t t-if="account_line.ldate">
                                    <div class="dropdown">
                                        <a data-bs-toggle="dropdown" href="#">
                                            <span t-att-data-bs-move-id="account_line.move_id">
                                                <t t-esc="account_line.ldate"/>
                                            </span>
                                            <i class="fa fa-caret-down" role="img" aria-label="Unfolded"
                                               title="Unfolded"/>
                                        </a>
                                        <span t-att-data-bs-move-id="account_line.move_id"/>
                                        <ul class="dropdown-menu p-2" role="menu">
                                            <t t-if="account_line.move_name">
                                                <li role="presentation">
                                                    <a role="menuitem" class="ks_view-source" tabindex="-1"
                                                       action="ks_df_show_move_line"
                                                       t-on-click="event => self.ksgetaction(event)"
                                                       t-att-data-bs-move-id="account_line.move_id">
                                                        Move Line
                                                    </a>
                                                </li>
                                            </t>
                                        </ul>
                                    </div>
                                </t>
                            </td>
                            <td>
                                <t t-esc="account_line.lcode"/>
                            </td>
                            <td>
                                <t t-esc="typeof account_line.account_name === 'object' &amp;&amp; account_line.account_name[lang] ? account_line.account_name[lang] : account_line.account_name;"/>
                            </td>
                            <td t-att-style="style">
                                <t t-esc="account_line.move_name"/>
                            </td>
                            <td t-att-style="style">
                                <t t-esc="account_line.lname"/>
                            </td>
                            <t t-if="ks_enable_ledger_in_bal">
                                <td t-att-style="style" class="ks_amt">
                                    <t t-raw="account_line.initial_balance"/>
                                </td>
                            </t>
                            <td t-att-style="style" class="ks_amt">
                                <t t-raw="account_line.debit"/>
                            </td>
                            <td t-att-style="style" class="ks_amt">
                                <t t-raw="account_line.credit"/>
                            </td>
                            <td t-att-style="style" class="ks_amt">
                                <t t-raw="account_line.balance"/>
                            </td>
                            <td t-att-style="style" class="ks_amt">
                                <t t-if="account_line['currency_symbol'] != account_line['company_currency_symbol']">
                                    <t t-if="account_line['currency_position'] == 'before'">
                                        <span t-esc="account_line['currency_symbol']"/>
                                        <span t-esc="account_line['amount_currency']"/>
                                    </t>
                                    <t t-if="account_line['currency_position'] == 'after'">
                                        <span t-esc="account_line['amount_currency']"/>
                                        <span t-esc="account_line['currency_symbol']"/>
                                    </t>
                                </t>
                            </td>
                        </tr>
                    </t>
                </tbody>
            </table>
        </div>
    </t>
</templates>