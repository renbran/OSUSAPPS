<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <!-- Scheduled Agent Execution Cron -->
    <record id="cron_run_scheduled_agents" model="ir.cron">
        <field name="name">Run Scheduled AI Agents</field>
        <field name="model_id" ref="model_free_ai_agent"/>
        <field name="code">model.run_scheduled_agents()</field>
        <field name="interval_number">10</field>
        <field name="interval_type">minutes</field>
        <field name="numbercall">-1</field>
        <field name="active" eval="True"/>
        <field name="doall" eval="False"/>
    </record>

    <!-- Cleanup Old Records Cron -->
    <record id="cron_cleanup_old_records" model="ir.cron">
        <field name="name">Cleanup Old AI Response Records</field>
        <field name="model_id" ref="model_free_ai_response_history"/>
        <field name="code">
# Only run if auto cleanup is enabled
config = env['ir.config_parameter'].sudo()
if config.get_param('free_ai_agent.auto_cleanup_enabled', 'False') == 'True':
    days = int(config.get_param('free_ai_agent.cleanup_days', '30'))
    model.cleanup_old_records(days)
        </field>
        <field name="interval_number">1</field>
        <field name="interval_type">days</field>
        <field name="numbercall">-1</field>
        <field name="active" eval="True"/>
        <field name="doall" eval="False"/>
    </record>

</odoo>