<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">

        <!-- Booking Confirmation Email -->
        <record id="email_template_booking_confirmation" model="mail.template">
            <field name="name">Videographer Booking: Confirmation</field>
            <field name="model_id" ref="model_s2u_appointment_registration"/>
            <field name="subject">Booking Confirmation - {{ object.name }}</field>
            <field name="email_from">{{ (object.videographer_id.email or user.email_formatted) }}</field>
            <field name="email_to">{{ object.partner_id.email }}</field>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px; font-family: Arial, sans-serif;">
                    <table width="100%" cellpadding="0" cellspacing="0" style="margin: 0px auto; background-color: #f5f5f5;">
                        <tr>
                            <td align="center">
                                <table width="600" cellpadding="0" cellspacing="0" style="margin: 20px auto; background-color: white; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                    <!-- Header -->
                                    <tr>
                                        <td style="padding: 30px; text-align: center; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 8px 8px 0 0;">
                                            <h1 style="color: white; margin: 0; font-size: 28px;">Booking Confirmed!</h1>
                                        </td>
                                    </tr>

                                    <!-- Content -->
                                    <tr>
                                        <td style="padding: 30px;">
                                            <p style="font-size: 16px; color: #333;">Dear <strong>{{ object.partner_id.name }}</strong>,</p>
                                            <p style="font-size: 14px; color: #666; line-height: 1.6;">
                                                Thank you for choosing us! Your videography booking has been confirmed.
                                            </p>

                                            <!-- Booking Details -->
                                            <div style="background-color: #f8f9fa; padding: 20px; border-radius: 6px; margin: 20px 0;">
                                                <h3 style="color: #667eea; margin-top: 0;">Booking Details</h3>
                                                <table width="100%" cellpadding="5" style="font-size: 14px;">
                                                    <tr>
                                                        <td style="color: #666; width: 40%;">Booking Reference:</td>
                                                        <td style="color: #333;"><strong>{{ object.name }}</strong></td>
                                                    </tr>
                                                    <tr t-if="object.package_id">
                                                        <td style="color: #666;">Package:</td>
                                                        <td style="color: #333;"><strong>{{ object.package_id.name }}</strong></td>
                                                    </tr>
                                                    <tr>
                                                        <td style="color: #666;">Videographer:</td>
                                                        <td style="color: #333;"><strong>{{ object.videographer_id.name }}</strong></td>
                                                    </tr>
                                                    <tr>
                                                        <td style="color: #666;">Date &amp; Time:</td>
                                                        <td style="color: #333;"><strong>{{ format_datetime(object.appointment_begin, dt_format='EEEE, MMMM d, yyyy') }}</strong><br/>
                                                        {{ format_datetime(object.appointment_begin, dt_format='h:mm a') }} - {{ format_datetime(object.appointment_end, dt_format='h:mm a') }}</td>
                                                    </tr>
                                                    <tr t-if="object.event_location">
                                                        <td style="color: #666;">Location:</td>
                                                        <td style="color: #333;">{{ object.event_location }}</td>
                                                    </tr>
                                                    <tr>
                                                        <td style="color: #666;">Total Amount:</td>
                                                        <td style="color: #333; font-size: 18px;"><strong>{{ format_amount(object.total_amount, object.currency_id) }}</strong></td>
                                                    </tr>
                                                    <tr t-if="object.deposit_amount > 0 and object.payment_status != 'fully_paid'">
                                                        <td style="color: #666;">Deposit Due:</td>
                                                        <td style="color: #e74c3c; font-size: 16px;"><strong>{{ format_amount(object.deposit_amount, object.currency_id) }}</strong></td>
                                                    </tr>
                                                </table>
                                            </div>

                                            <!-- What's Next -->
                                            <div style="margin: 20px 0;">
                                                <h3 style="color: #667eea;">What's Next?</h3>
                                                <ol style="color: #666; line-height: 1.8; padding-left: 20px;">
                                                    <li t-if="object.payment_status == 'unpaid'">Complete the deposit payment to secure your booking</li>
                                                    <li>We'll contact you 2-3 days before the event to confirm details</li>
                                                    <li>Enjoy your event while we capture every special moment!</li>
                                                </ol>
                                            </div>

                                            <!-- CTA Button -->
                                            <div style="text-align: center; margin: 30px 0;">
                                                <a t-att-href="object.get_portal_url()" style="display: inline-block; padding: 12px 30px; background-color: #667eea; color: white; text-decoration: none; border-radius: 4px; font-weight: bold;">
                                                    View Booking Details
                                                </a>
                                            </div>

                                            <!-- Contact Info -->
                                            <div style="border-top: 1px solid #e0e0e0; padding-top: 20px; margin-top: 20px;">
                                                <p style="font-size: 12px; color: #999; margin: 5px 0;">Questions? Contact us:</p>
                                                <p style="font-size: 12px; color: #666; margin: 5px 0;" t-if="object.videographer_id.email">
                                                    Email: <a t-att-href="'mailto:' + object.videographer_id.email" style="color: #667eea;">{{ object.videographer_id.email }}</a>
                                                </p>
                                                <p style="font-size: 12px; color: #666; margin: 5px 0;" t-if="object.videographer_id.phone">
                                                    Phone: {{ object.videographer_id.phone }}
                                                </p>
                                            </div>
                                        </td>
                                    </tr>

                                    <!-- Footer -->
                                    <tr>
                                        <td style="padding: 20px; text-align: center; background-color: #f8f9fa; border-radius: 0 0 8px 8px;">
                                            <p style="font-size: 12px; color: #999; margin: 0;">
                                                Â© {{ datetime.datetime.now().year }} {{ object.company_id.name }}. All rights reserved.
                                            </p>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                </div>
            </field>
        </record>

        <!-- Booking Reminder Email (3 days before) -->
        <record id="email_template_booking_reminder" model="mail.template">
            <field name="name">Videographer Booking: Reminder</field>
            <field name="model_id" ref="model_s2u_appointment_registration"/>
            <field name="subject">Reminder: Your Upcoming Videography Session - {{ object.name }}</field>
            <field name="email_from">{{ (object.videographer_id.email or user.email_formatted) }}</field>
            <field name="email_to">{{ object.partner_id.email }}</field>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px; font-family: Arial, sans-serif;">
                    <table width="100%" cellpadding="0" cellspacing="0" style="margin: 0px auto; background-color: #f5f5f5;">
                        <tr>
                            <td align="center">
                                <table width="600" cellpadding="0" cellspacing="0" style="margin: 20px auto; background-color: white; border-radius: 8px;">
                                    <tr>
                                        <td style="padding: 30px; text-align: center; background-color: #ffc107; border-radius: 8px 8px 0 0;">
                                            <h1 style="color: white; margin: 0;">Your Event is Coming Up!</h1>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 30px;">
                                            <p style="font-size: 16px;">Hi <strong>{{ object.partner_id.name }}</strong>,</p>
                                            <p style="font-size: 14px; color: #666;">
                                                This is a friendly reminder that your videography session is scheduled for:
                                            </p>
                                            <div style="background-color: #fff3cd; padding: 20px; border-radius: 6px; text-align: center; margin: 20px 0;">
                                                <p style="font-size: 24px; color: #856404; margin: 5px 0;">{{ format_datetime(object.appointment_begin, dt_format='EEEE, MMMM d') }}</p>
                                                <p style="font-size: 20px; color: #856404; margin: 5px 0;">{{ format_datetime(object.appointment_begin, dt_format='h:mm a') }}</p>
                                            </div>
                                            <p style="font-size: 14px; color: #666;">
                                                We're looking forward to capturing your special moments! Please let us know if you have any last-minute questions or changes.
                                            </p>
                                            <div style="text-align: center; margin: 30px 0;">
                                                <a t-att-href="object.get_portal_url()" style="display: inline-block; padding: 12px 30px; background-color: #ffc107; color: #333; text-decoration: none; border-radius: 4px; font-weight: bold;">
                                                    View Booking
                                                </a>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                </div>
            </field>
        </record>

        <!-- Review Request Email -->
        <record id="email_template_review_request" model="mail.template">
            <field name="name">Videographer Booking: Review Request</field>
            <field name="model_id" ref="model_s2u_appointment_registration"/>
            <field name="subject">How was your experience? Share your feedback</field>
            <field name="email_from">{{ (object.videographer_id.email or user.email_formatted) }}</field>
            <field name="email_to">{{ object.partner_id.email }}</field>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px; font-family: Arial, sans-serif;">
                    <table width="100%" cellpadding="0" cellspacing="0" style="margin: 0px auto; background-color: #f5f5f5;">
                        <tr>
                            <td align="center">
                                <table width="600" cellpadding="0" cellspacing="0" style="margin: 20px auto; background-color: white; border-radius: 8px;">
                                    <tr>
                                        <td style="padding: 30px; text-align: center;">
                                            <h1 style="color: #667eea; margin: 0;">We'd Love Your Feedback!</h1>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 30px;">
                                            <p style="font-size: 16px;">Hi <strong>{{ object.partner_id.name }}</strong>,</p>
                                            <p style="font-size: 14px; color: #666;">
                                                Thank you for choosing {{ object.videographer_id.name }} for your videography needs!
                                                We hope you're thrilled with the results.
                                            </p>
                                            <p style="font-size: 14px; color: #666;">
                                                Would you mind taking a moment to share your experience? Your feedback helps us improve
                                                and helps other clients make informed decisions.
                                            </p>
                                            <div style="text-align: center; margin: 30px 0;">
                                                <a t-att-href="object.get_portal_url()" style="display: inline-block; padding: 12px 30px; background-color: #667eea; color: white; text-decoration: none; border-radius: 4px; font-weight: bold;">
                                                    Leave a Review
                                                </a>
                                            </div>
                                            <p style="font-size: 12px; color: #999; text-align: center;">
                                                Thank you for your time!
                                            </p>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                </div>
            </field>
        </record>

    </data>
</odoo>