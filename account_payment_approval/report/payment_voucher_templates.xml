<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="report_payment_voucher_template">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <div class="page">
                        <style>
                            @page { margin: 5mm; size: A4; }
                            .voucher-container { font-family: Arial, sans-serif; background: white; font-size: 12px; line-height: 1.4; margin: 0; padding: 0; }
                            .voucher-header { background: linear-gradient(135deg, #6B2B47, #8B1538); color: white; padding: 12px; margin: 0 0 15px 0; box-shadow: 0 3px 6px rgba(0,0,0,0.2); }
                            .voucher-title { text-align: center; font-size: 26px; font-weight: bold; letter-spacing: 2px; margin: 0; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); text-transform: uppercase; }
                            .voucher-subtitle { text-align: center; font-size: 14px; margin: 4px 0; }
                            .field-section { margin-bottom: 10px; }
                            .field-label { color: #6b0632; font-weight: bold; font-size: 12px; margin-bottom: 4px; text-transform: uppercase; letter-spacing: 0.5px; }
                            .field-value { border-bottom: 1px solid #333; padding: 4px; margin-bottom: 6px; min-height: 16px; color: #000; font-weight: 500; font-size: 12px; }
                            .amount-section { background: linear-gradient(135deg, #b19024, #8B6F00); color: white; padding: 15px; text-align: center; margin: 15px 0; font-size: 18px; font-weight: bold; box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3); border-radius: 5px; }
                            .payment-summary-section { margin: 12px 0; padding: 12px; background: linear-gradient(135deg, #fff3cd, #ffeaa7); border: 2px solid #ffc107; border-radius: 6px; }
                            .summary-title { color: #856404; font-weight: bold; font-size: 13px; margin-bottom: 6px; text-transform: uppercase; letter-spacing: 0.5px; }
                            .summary-item { margin-bottom: 4px; font-size: 12px; line-height: 1.4; }
                            .signature-section { margin-top: 15px; padding-top: 12px; border-top: 2px solid #e9ecef; }
                            .signature-box { text-align: center; padding: 6px; margin-bottom: 8px; }
                            .signature-line { border-bottom: 2px solid #333; margin-bottom: 5px; height: 25px; display: flex; align-items: flex-end; justify-content: center; }
                            .signature-label { font-weight: bold; color: #6b0632; font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px; }
                            .signature-initials { font-size: 14px; font-weight: bold; color: #6B2B47; font-style: italic; }
                            .footer-note { background: linear-gradient(135deg, #6B2B47, #8B1538); color: white; text-align: center; padding: 10px; font-size: 11px; margin: 15px 0 0 0; }
                            .creator-info { font-size: 10px; color: #666; margin-top: 5px; text-align: right; }
                            .received-by-box { border: 2px solid #6b0632; padding: 10px; background: #f8f9fa; margin-top: 8px; border-radius: 5px; }
                            .compact-row { margin-bottom: 8px; }
                            .qr-code-container { text-align: center; padding: 8px; }
                            .qr-code-box { background: white; padding: 6px; border-radius: 4px; display: inline-block; border: 2px solid #333; }
                            @media print { .page { margin: 0; padding: 2px; } .voucher-container { margin: 0; padding: 0; } }
                        </style>
                        <div class="voucher-container">
                            <!-- Header Section -->
                            <div class="voucher-header">
                                <div class="row">
                                    <div class="col-2">
                                        <div class="qr-code-container">
                                            <div class="qr-code-box">
                                                <t t-if="o.qr_code">
                                                    <img t-att-src="'data:image/png;base64,' + o.qr_code.decode('utf-8')" style="width: 65px; height: 65px;"/>
                                                </t>
                                                <t t-else="">
                                                    <div style="width: 65px; height: 65px; background: white; border: 1px solid #333; position: relative;">
                                                        <div style="position: absolute; top: 2px; left: 2px; width: 15px; height: 15px; background: #000;"></div>
                                                        <div style="position: absolute; top: 2px; right: 2px; width: 15px; height: 15px; background: #000;"></div>
                                                        <div style="position: absolute; bottom: 2px; left: 2px; width: 15px; height: 15px; background: #000;"></div>
                                                        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 12px; height: 12px; background: #000;"></div>
                                                    </div>
                                                </t>
                                            </div>
                                            <div style="font-size: 8px; margin-top: 2px; color: white;">Verify</div>
                                        </div>
                                    </div>
                                    <div class="col-8">
                                        <h1 class="voucher-title">
                                            <t t-if="o.payment_type == 'inbound'">Receipt</t>
                                            <t t-else="">Voucher</t>
                                        </h1>
                                        <div class="voucher-subtitle">
                                            <strong>Ref: <span t-field="o.name"/> | Date: <span t-field="o.date"/></strong>
                                        </div>
                                    </div>
                                    <div class="col-2">
                                        <div style="text-align: right; font-size: 7px;">
                                            <div>Business Bay, Dubai</div>
                                            <div>+971-4-366-4500</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Main Content in 2 Columns -->
                            <div class="row">
                                <div class="col-6">
                                    <!-- Left Column -->
                                    <div class="field-section">
                                        <div class="field-label">Issued To:</div>
                                        <div class="field-value"><span t-field="o.partner_id.name"/></div>
                                    </div>
                                    <div class="field-section">
                                        <div class="field-label">Phone:</div>
                                        <div class="field-value">
                                            <span t-field="o.partner_id.mobile"/>
                                            <t t-if="not o.partner_id.mobile">N/A</t>
                                        </div>
                                    </div>
                                    <div class="field-section">
                                        <div class="field-label">Email:</div>
                                        <div class="field-value">
                                            <span t-field="o.partner_id.email"/>
                                            <t t-if="not o.partner_id.email">N/A</t>
                                        </div>
                                    </div>
                                    <div class="field-section">
                                        <div class="field-label">Payment Method:</div>
                                        <div class="field-value"><span t-field="o.journal_id.name"/></div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <!-- Right Column -->
                                    <div class="field-section">
                                        <div class="field-label">Related Invoice:</div>
                                        <div class="field-value"><span t-esc="o.ref or 'N/A'"/></div>
                                    </div>
                                    <div class="field-section">
                                        <div class="field-label">Transaction Type:</div>
                                        <div class="field-value">
                                            <t t-if="o.payment_type == 'inbound'">
                                                <span style="color: #28a745; font-weight: bold;">Receipt (Money Received)</span>
                                            </t>
                                            <t t-else="">
                                                <span style="color: #dc3545; font-weight: bold;">Payment (Money Paid)</span>
                                            </t>
                                        </div>
                                    </div>
                                    <div class="field-section">
                                        <div class="field-label">Remarks:</div>
                                        <div class="field-value" style="min-height: 30px;">
                                            <span t-field="o.ref"/>
                                            <t t-if="not o.ref">-</t>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Amount in Words -->
                            <div class="field-section">
                                <div class="field-label">Amount in Words:</div>
                                <div class="field-value" style="font-style: italic; font-size: 13px;">
                                    <span t-esc="o.amount"/> <!-- Replace with amount in words if available -->
                                </div>
                            </div>
                            <!-- Total Amount -->
                            <div class="amount-section">
                                <strong>TOTAL AMOUNT: <span t-field="o.amount"/></strong>
                            </div>
                            <!-- Compact Signature Section -->
                            <div class="signature-section">
                                <div class="row compact-row">
                                    <div class="col-3">
                                        <div class="signature-box">
                                            <div class="signature-line"></div>
                                            <div class="signature-label">Reviewer</div>
                                            <div style="font-size: 11px;"><span t-field="o.reviewer_id.name"/></div>
                                            <div style="font-size: 9px;"><span t-field="o.reviewed_date"/></div>
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <div class="signature-box">
                                            <div class="signature-line"></div>
                                            <div class="signature-label">Approver</div>
                                            <div style="font-size: 11px;"><span t-field="o.approver_id.name"/></div>
                                            <div style="font-size: 9px;"><span t-field="o.approved_date"/></div>
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <div class="signature-box">
                                            <div class="signature-line"></div>
                                            <div class="signature-label">Authorizer</div>
                                            <div style="font-size: 11px;"><span t-field="o.authorizer_id.name"/></div>
                                            <div style="font-size: 9px;"><span t-field="o.authorized_date"/></div>
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <div class="signature-box">
                                            <div class="signature-line"></div>
                                            <div class="signature-label">Poster</div>
                                            <div style="font-size: 11px;"><span t-field="o.poster_id.name"/></div>
                                            <div style="font-size: 9px;"><span t-field="o.posted_date"/></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row compact-row">
                                    <div class="col-12">
                                        <div class="signature-box">
                                            <div class="signature-line"></div>
                                            <div class="signature-label">Received By</div>
                                            <div style="font-size: 11px;"><span t-field="o.partner_id.name"/></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="creator-info">
                                Created: <span t-field="o.create_uid.name"/> | <span t-field="o.create_date"/>
                                <t t-if="o.write_uid != o.create_uid"> | Modified: <span t-field="o.write_uid.name"/></t>
                            </div>
                            <div class="footer-note">
                                <strong>Thank you for your business!</strong> | Computer-generated document | OSUS Real Estate Brokerage LLC, Dubai, UAE
                            </div>
                        </div>
                    </div>
                </t>
            </t>
        </t>
    </template>
</odoo>
